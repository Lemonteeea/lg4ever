<body
  style="
    font-size: 15px;
    height: 100%;
    width: 100%;
    background-color: rgb(237, 237, 237);
  "
>
  <h1 style="display: none">前端基础建设与架构 30 讲 - 拉勾教育</h1>

  <meta
    content="React,React-Hooks,栈调,Fiber,setState,Redux,Facebook,源码分析,技术栈,JS,ES2015,
React-Router,DOM,React Native,state,props,diff,umi,Suspense,React.js，batchUpdate,
setState, Web ,前端,UI,HTML,jsx,ShoppingList,Props,前端开发,Vue,源码分析,架构师,
JavaScript,Composition API,Java, Vue.js,React , MVVM 框架,JavaScript, cube-ui 开发,uni-app,Mpx,chameleon,WePY,组件渲染,DOM diff, 组件渲染,vnode ,侦听器,共享数据,AST,Props,Virtual DOM,Snabbdon,patch,Diff 算法,Dep,底层原理,VueapI,Vue-cli,原生内置功能,Tree-shaking,代码逻辑,模板无关性,前端工程化,性能优化,前端开发,Vue,源码分析,架构师,JavaScript,Composition API,Java, Vue.js,React , MVVM 框架,JavaScript, cube-ui 开发,uni-app,Mpx,chameleon,WePY,组件渲染,DOM diff, 组件渲染,vnode ,侦听器,共享数据,AST,Props,Virtual DOM,Snabbdon,patch,Diff 算法,Dep,底层原理,VueapI,Vue-cli,原生内置功能,Tree-shaking,代码逻辑,模板无关性"
    name="keywords"
  />

  <meta
    content="快速发展的红利，批量劣汰的挑战；与生俱来的混乱，与混乱抗衡的规范，这些都是前端岗位无法逃避的现状。

有人说，做好业务支撑是活在当下，而做好技术基建，是活好未来。当业务量到达一定量级，妄想依靠“加班”“压榨”这种出蛮力的方式来做好业务会十分困难且危险。

成为“规范制定者”、成为“思考者”，像架构师一样思考问题，你才能成为“优胜者”。"
    name="description"
  />

  <title>前端基础建设与架构 - 前百度资深前端开发工程师-拉勾教育</title>
  <meta
    name="apple-mobile-web-app-title"
    content="前端基础建设与架构 - 前百度资深前端开发工程师-拉勾教育"
  />

  <script>
    // 全局token变量，防CSRF，防重复提交
    window.X_Anti_Forge_Code = ""
    window.X_Anti_Forge_Token = ""
    var mds = {
      userInfo: {
        shortName: "",
      },
    }
    window.mds = mds
  </script>
  <script
    type="text/javascript"
    src="//g.alicdn.com/AWSC/AWSC/awsc.js"
  ></script>
  <script src="//s20.lgstatic.com/components/edu-fe/edu-pay-component/1.0.12/main.js"></script>
  <script>
    window.userInfo = {
      userId: "20015885",
    }
    //风控系统
    ;(function () {
      console.log(window)
      window._smReadyFuncs = []
      window.SMSdk = {
        ready: function (fn) {
          fn && _smReadyFuncs.push(fn)
        },
      }
      // 1. 通用配置项
      window._smConf = {
        organization: "uTuOLHj2zLGJgglbtLOC", //必填，组织标识，邮件中organization项
        staticHost: "static.fengkongcloud.com", //必填, 设置JS-SDK文件域名

        //2.连接海外机房特殊配置项，仅供设备数据上报海外机房客户使用
        //
        // 2.1 业务机房在国内
        //     1) 用户分布：国内（默认设置）
        // apiHost:'fp-it.fengkongcloud.com'
        //      2) 用户分布：全球
        //  apiHost:'fp-it-acc.fengkongcloud.com'
        //
        // 2.2 业务机房在欧美
        //    1) 用户分布：欧美
        // apiHost: 'fp-na-it.fengkongcloud.com'
        //    2) 用户分布：全球
        // apiHost: 'fp-na-it-acc.fengkongcloud.com'
        //
        //2.3 业务机房在东南亚
        //   1) 用户分布：东南亚
        // apiHost:'fp-sa-it.fengkongcloud.com'
        //   2) 用户分布：全球
        // apiHost:'fp-sa-it-acc.fengkongcloud.com'

        // 2.4 私有化特殊配置
        // staticHost: 'xxxxxx';  // 私有化部署的JS-SDK文件域名
        // apiHost: 'xxxxxx';  // 私有化部署的服务域名
      }

      var url = (function () {
        var originHost = "static2.fengkongcloud.com"
        var isHttps = document.location.protocol === "https:"
        var protocol = isHttps ? "https://" : "http://"
        var fpJsPath = "/fpv2.js"
        var url = protocol + _smConf.staticHost + fpJsPath
        var ua = navigator.userAgent.toLowerCase()
        var isWinXP = /windows\s(?:nt\s5.1)|(?:xp)/.test(ua)
        var isLowIE = /msie\s[678]\.0/.test(ua)

        if (isHttps && isWinXP && isLowIE) {
          url = protocol + originHost + fpJsPath
        }

        return url
      })()
      var sm = document.createElement("script")
      var s = document.getElementsByTagName("script")[0]
      sm.src = url
      s.parentNode.insertBefore(sm, s)
    })()
    //阿里云风控系统
    var uabModule
    var webUmidToken
    //人机识别模块，只需初始化一次
    AWSC.use("uab", function (state, uab) {
      if (state === "loaded") {
        uabModule = uab
      }
    })
    //设备指纹模块，得到设备token，只需初始化一次
    AWSC.use("um", function (state, um) {
      if (state === "loaded") {
        um.init(
          {
            //appName请直接使用'saf-aliyun-com'
            appName: "saf-aliyun-com",
          },
          function (initState, result) {
            if (initState === "success") {
              webUmidToken = result.tn
            }
          }
        )
      }
    })
    /////
    function dealSmDeviceId(cb) {
      var smTimeoutTime = 200
      var smDeviceId = ""
      var smDeviceIdReady = false
      var smTimer = setTimeout(function () {
        smDeviceId = SMSdk.getDeviceId ? SMSdk.getDeviceId() : smDeviceId
        if (!smDeviceIdReady && smDeviceId) {
          smDeviceIdReady = true
          //执行业务逻辑
          cb && cb(smDeviceId)
        }
      }, smTimeoutTime)

      SMSdk.ready(function () {
        smDeviceId = SMSdk.getDeviceId ? SMSdk.getDeviceId() : smDeviceId
        clearTimeout(smTimer)

        if (!smDeviceIdReady && smDeviceId) {
          smDeviceIdReady = true
          //执行业务逻辑
          cb && cb(smDeviceId)
        }
      })
    }
    function getCookie(name) {
      var arr,
        reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)")
      if ((arr = document.cookie.match(reg))) {
        return unescape(arr[2])
      } else {
        return null
      }
    }
    function getHost() {
      let host = window.location.host.split(".")
      if (host[1] && host[1] == "lagou") {
        return true
      }
      return false
    }
    const getdeviceld = function (deviceId) {
      if (deviceId) {
        let data = []
        data.push({ channel: 1, thirdDeviceId: deviceId })
        data.push({
          channel: 2,
          thirdDeviceId: uabModule && uabModule.getUA() + "," + webUmidToken,
        })
        var expats = new Date()
        expats.setTime(expats.getTime() + 7 * 24 * 60 * 60 * 1000)
        if (getHost()) {
          document.cookie =
            "thirdDeviceIdInfo=" +
            escape(JSON.stringify(data)) +
            ";expires=" +
            expats.toGMTString() +
            ";path=/;domain=.lagou.com;"
        } else {
          document.cookie =
            "thirdDeviceIdInfo=" +
            escape(JSON.stringify(data)) +
            ";expires=" +
            expats.toGMTString() +
            ";path=/;"
        }
      } else {
        dealSmDeviceId(getdeviceld)
      }
    }
    if (!getCookie("thirdDeviceIdInfo")) {
      dealSmDeviceId(getdeviceld)
    }
    // Note: onepass h5无感本机认证
    // https://docs.geetest.com/onelogin/deploy/h5
    ;(function () {
      const isPc = !/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(
        window.navigator.userAgent
      )
      if (isPc) return
      // 网络判断方法
      function getNetworkType() {
        var common_cell = ["cellular", "2g", "3g", "4g", "5g", "3G/2G"]
        var user_agent = navigator.userAgent.toLowerCase()
        var connection = navigator.connection ||
          navigator.mozConnection ||
          navigator.webkitConnection || { type: "unknown" }
        var type
        // 判断是否是微信内置浏览器
        var isWeixin = /micromessenger/.test(user_agent)
        if (isWeixin) {
          if (user_agent.indexOf("nettype") !== -1) {
            type = user_agent.match(/nettype\/\w+/)
              ? user_agent.match(/nettype\/\w+/)[0]
              : "nettype/unknow"
            type = type.replace("nettype/", "")
          } else {
            var weixinType = {
              "network_type:wifi": "wifi",
              "network_type:edge": "3G/2G",
              "network_type:fail": "fail",
              "network_type:wwan": "3G/2G",
            }
            document.addEventListener(
              "WeixinJSBridgeReady",
              function onBridgeReady() {
                WeixinJSBridge.invoke("getNetworkType", {}, function (e) {
                  type = weixinType[e.err_msg]
                })
              }
            )
          }
        } else {
          type = (connection && connection.type) || "unknown"
        }
        // 对type 做统一处理
        if (type && common_cell.indexOf(type) !== -1) {
          return "cellular"
        } else if (type === "wifi") {
          return "wifi"
        }
        return "unknown"
      }
      var metaEle = document.createElement("meta")
      metaEle.content = "always"
      metaEle.name = "referrer"
      document.head.appendChild(metaEle)
      var scriptEle = document.createElement("script")
      scriptEle.src =
        "https://s21.lgstatic.com/components/onepassh5/2.3.0/onepassh5.min.js"
      document.head.appendChild(scriptEle)
      scriptEle.onload = function () {
        console.log(GOP, "GOP 加载成功")
        if (typeof GOP !== "function") return
        var nettype = getNetworkType()
        // Note: onepass api h5场景只支持数据网络的场景
        var ispre = nettype === "wifi" ? false : true
        window.OP_INSTANCE = new GOP({
          app_id: "000760cd4c8bb48a3860e5070ded2717", // 在极验后台获取，生成app_id后等待极验审核成功后生效
          timeout: 30000, // 超时时长，默认30000
          pre_init: ispre, // 是否初始化时获取运营商参数，默认为true。 建议开启避免影响认证的响应时间
        })
      }
    })()
  </script>
  <link
    href="https://s0.lgstatic.com/kw-web-fed/common.9f883843.css"
    rel="stylesheet"
  /><link
    href="https://s0.lgstatic.com/kw-web-fed/course/main.793fddbd.css"
    rel="stylesheet"
  />

  <div id="app" class="">
    <div data-v-daa3f53a="" data-v-6cc00bca="" class="pc-detail-wrap">
      <div data-v-5d185b94="" data-v-daa3f53a="" class="wrap pc-header">
        <div data-v-5d185b94="" class="wrap-content">
          <div data-v-5d185b94="" class="wrap-left">
            <a data-v-5d185b94="" href="https://edu.lagou.com"
              ><img
                data-v-5d185b94=""
                src="https://s21.lgstatic.com/growth/activity/20210729/1627528017710.png?x-oss-process=style/80"
                alt=""
                class="logo"
            /></a>
            <h1 data-v-5d185b94="" class="title">拉勾教育</h1>
            <h1 data-v-5d185b94="" class="desc">互联网职业教育平台</h1>
          </div>
          <div data-v-5d185b94="" class="wrap-right">
            <div data-v-5d185b94="" class="tab-list">
              <h2 data-v-5d185b94="" class="tab-item">选课</h2>
              <h2 data-v-5d185b94="" class="tab-item">学习</h2>
              <h2 data-v-5d185b94="" class="tab-item">企业培训</h2>
            </div>
            <div data-v-5d185b94="" class="login-wrap">
              <div data-v-5d185b94="" class="wrap-login">
                <span data-v-5d185b94="" class="username triangle">
                  张熙远
                  <div data-v-5d185b94="" class="tool-tip tool-tip-user">
                    <a
                      data-v-5d185b94=""
                      href="https://tb.53kf.com/code/client/90d3e270b5d355aa44bafe74fd7fe8a11/3"
                      target="_blank"
                      class="tool-tip-item"
                    >
                      帮助与反馈 </a
                    ><a
                      data-v-5d185b94=""
                      href="https://kaiwu.lagou.com/certificate/index"
                      target="_certificate"
                      class="tool-tip-item"
                    >
                      学业证书 </a
                    ><a
                      data-v-5d185b94=""
                      href="https://kaiwu.lagou.com/setting"
                      target="_self"
                      class="tool-tip-item"
                    >
                      账号设置 </a
                    ><a
                      data-v-5d185b94=""
                      href="https://kaiwu.lagou.com/frontLogout.do"
                      target="_self"
                      class="tool-tip-item"
                    >
                      退出登录
                    </a>
                  </div></span
                >
                <img
                  data-v-5d185b94=""
                  src="https://s0.lgstatic.com/common/image/pc/default_boy_headpic1.png"
                  alt=""
                  class="avatar"
                />
              </div>
            </div>
          </div>
        </div>
        <!---->
      </div>
      <div data-v-daa3f53a="" class="container">
        <div data-v-130a0286="" data-v-daa3f53a="" class="pub-header">
          <div data-v-130a0286="" class="pub-header-container-wrap">
            <div data-v-130a0286="" class="item-wrap inline-block catalog">
              <div data-v-130a0286="" class="img-wrap inline-block"></div>
              <div data-v-130a0286="" class="text-wrap inline-block">
                收起目录
              </div>
            </div>
            <div data-v-130a0286="" class="splice-line inline-block"></div>
            <div data-v-130a0286="" class="item-wrap inline-block pre">
              <div data-v-130a0286="" class="img-wrap inline-block"></div>
              <div data-v-130a0286="" class="text-wrap inline-block">
                上一讲
              </div>
            </div>
            <div data-v-130a0286="" class="splice-line inline-block"></div>
            <div data-v-130a0286="" class="item-wrap inline-block next">
              <div data-v-130a0286="" class="img-wrap inline-block"></div>
              <div data-v-130a0286="" class="text-wrap inline-block">
                下一讲
              </div>
            </div>
            <div data-v-130a0286="" class="splice-line inline-block"></div>
            <div data-v-130a0286="" class="item-wrap inline-block detail">
              <div data-v-130a0286="" class="img-wrap inline-block"></div>
              <div data-v-130a0286="" class="text-wrap inline-block">
                课程详情
              </div>
            </div>
            <div data-v-130a0286="" class="splice-line inline-block"></div>
            <div data-v-130a0286="" class="item-wrap inline-block all">
              <div data-v-130a0286="" class="img-wrap inline-block"></div>
              <div data-v-130a0286="" class="text-wrap inline-block">
                全部课程
              </div>
            </div>
          </div>
        </div>
        <div data-v-daa3f53a="" class="content-wrap">
          <div data-v-daa3f53a="" class="left-content-wrap">
            <div
              data-v-5f686215=""
              data-v-daa3f53a=""
              class="menu-top-tips inline-block"
            >
              <img
                data-v-5f686215=""
                src="https://s0.lgstatic.com/i/image/M00/88/7E/CgqCHl_W512AJc_SAAFGLYkGkls947.png"
                class="image-wrap"
              />
              <div data-v-5f686215="" class="menu-top-tips-wrap inline-block">
                <div data-v-5f686215="" class="title">
                  前端基础建设与架构 30 讲
                </div>
                <div data-v-5f686215="" class="name">
                  LucasHC（侯策）
                  <div data-v-5f686215="" class="incise inline-block"></div>
                  前百度资深前端开发工程师
                </div>
                <!---->
                <div data-v-5f686215="" class="button btn btn-pc-css">
                  专属班主任
                </div>
              </div>
            </div>
            <div data-v-daa3f53a="" class="menu-content calc">
              <div
                data-v-68b0779c=""
                data-v-daa3f53a=""
                class="class-menu-contaniner more-sections more-sections-detail"
              >
                <!---->
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 267px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    开篇词
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          开篇词 | 像架构师一样思考，突破技术成长瓶颈
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          导读 | 前端技术发展回顾和架构升级之路
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 513px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    前端工程化管理工具篇
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          01 | npm 安装机制及企业级部署私服原理
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          02 | Yarn 的安装理念及如何破解依赖管理困境
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          03 | CI 环境上的 npm 优化及更多工程化问题解析
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          04 | 横向对比主流构建工具，了解构建工具的设计考量
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          05 | Vite 实现：从源码分析出发，构建 bundleless
                          开发工程
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 1005px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    现代化前端开发和架构生态篇
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          06 | core-js 及垫片理念：设计一个“最完美”的 Polyfill
                          方案
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          07 | 梳理混乱的 Babel，不再被编译报错困扰
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          08 | 探索前端工具链生态，制定一个统一标准化
                          babel-preset
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          09 | 从实战出发，从 0 到 1 构建一个符合标准的公共库
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          10 | 代码拆分和按需加载：缩减 bundle
                          size，把性能做到极致
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          11 | Tree Shaking：移除 JavaScript
                          上下文中的未引用代码
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          12 | 如何理解 AST 实现和编译原理？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          13 | 工程化思维处理方案：如何实现应用主题切换功能？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          14 | 解析 Webpack 源码，实现自己的构建工具
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          15 | 从编译到运行，跨端解析小程序多端方案
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        isclick
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          16 | 原生跨平台技术：移动端跨平台到 Flutter 的技术变革
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 595px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    核心框架原理与代码设计模式篇
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          17 | 学习 axios：封装一个结构清晰的 Fetch 库
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          18 | 对比 Koa 和 Redux：分析前端中的中间件理念
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          19 | 如何理解软件开发灵活性和高定制性？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          20 | 如何理解前端中面向对象的思想？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          21 | 如何利用 JavaScript 实现经典数据结构？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          22 | 剖析前端中的数据结构应用场景
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 431px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    前端架构设计实战篇
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          23 | npm script：打造一体化的构建和部署流程
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          24 | 自动化代码检查：剖析 Lint
                          工具和工程化接入&amp;优化方案
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          25 | 如何设计一个前端 + 移动端离线包方案？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          26 | 如何设计一个“万能”项目脚手架？
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 431px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    前端全链路——Node.js 全栈开发篇
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          27 | 同构渲染架构：实现一个 SSR 应用
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          28 | 设计性能守卫系统：完善 CI/CD 流程
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          29 | 实践打造网关：改造企业 BFF 方案
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          30 | 实现高可用：使用 Puppeteer 生成性能最优的海报系统
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  data-v-68b0779c=""
                  class="class-menu-box"
                  style="max-height: 185px"
                >
                  <div
                    data-v-68b0779c=""
                    class="kw-icon-arrow show show-detail show-active"
                  ></div>
                  <div
                    data-v-68b0779c=""
                    class="section-name single-line section-name-detail"
                  >
                    结束语
                  </div>
                  <div data-v-68b0779c="" class="class-menu-block">
                    <div
                      data-v-68b0779c=""
                      class="
                        class-level-one
                        over-ellipsis
                        class-level-one-detail
                      "
                    >
                      <div data-v-68b0779c="" class="text-wrap">
                        <div data-v-68b0779c="" class="content">
                          结束语 | 再谈项目的基建和架构，个人的价值和方向
                        </div>
                        <div data-v-68b0779c="" class="item-status-wrap">
                          <!---->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            data-v-daa3f53a=""
            class="right-content-wrap"
            style="height: 152px"
          >
            <div data-v-1605a430="" data-v-daa3f53a="" class="main-wrap">
              <div data-v-1605a430="">
                <h1 data-v-1605a430="" class="main-title">
                  16 | 原生跨平台技术：移动端跨平台到 Flutter 的技术变革
                </h1>
                <div data-v-1605a430="" class="main-tips">
                  2021/02/03
                  <span data-v-1605a430="" class="auth">LucasHC（侯策）</span>
                </div>
                <div data-v-1605a430="" class="media-player-wrap">
                  <div data-v-6ecd2302="" data-v-1605a430="">
                    <div data-v-6ecd2302="" class="media-container">
                      <div data-v-6ecd2302="" class="button-wrap inline-block">
                        <div
                          data-v-6ecd2302=""
                          class="button-icon inline-block"
                        ></div>
                      </div>
                      <div data-v-6ecd2302="" class="data-wrap inline-block">
                        <div data-v-6ecd2302="" class="progress-bar">
                          <div
                            class="vue-slider vue-slider-ltr"
                            style="padding: 7px 0px; width: auto; height: 4px"
                          >
                            <div
                              class="vue-slider-rail"
                              style="
                                height: 2px;
                                background: rgb(213, 218, 223);
                                border-radius: 1.5px;
                              "
                            >
                              <div
                                class="vue-slider-process"
                                style="
                                  height: 100%;
                                  top: 0px;
                                  left: 0%;
                                  width: 0%;
                                  transition-property: width, left;
                                  transition-duration: 0.5s;
                                  background: rgb(252, 215, 102);
                                "
                              ></div>
                              <div
                                aria-valuetext="00:00/15:34"
                                class="vue-slider-dot vue-slider-dot-hover"
                                role="slider"
                                aria-valuenow="0"
                                aria-valuemin="0"
                                aria-valuemax="934"
                                aria-orientation="horizontal"
                                tabindex="0"
                                style="
                                  width: 14px;
                                  height: 14px;
                                  transform: translate(-50%, -50%);
                                  top: 50%;
                                  left: 0%;
                                  transition: left 0.5s ease 0s;
                                "
                              >
                                <div
                                  class="vue-slider-dot-handle"
                                  style="
                                    width: 16px;
                                    height: 16px;
                                    background: rgb(252, 215, 102);
                                    box-shadow: none;
                                    margin-top: -1px;
                                    z-index: 1;
                                  "
                                ></div>
                                <div
                                  class="
                                    vue-slider-dot-tooltip
                                    vue-slider-dot-tooltip-top
                                  "
                                >
                                  <div
                                    class="
                                      vue-slider-dot-tooltip-inner
                                      vue-slider-dot-tooltip-inner-top
                                    "
                                    style="
                                      padding: 2px 12px;
                                      border-radius: 14px;
                                      font-size: 14px;
                                      color: rgb(0, 0, 0);
                                      background: rgb(252, 215, 102);
                                      min-width: 20px;
                                      border-color: rgb(252, 215, 102);
                                    "
                                  >
                                    <span class="vue-slider-dot-tooltip-text"
                                      >00:00/15:34</span
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div data-v-6ecd2302="" class="detail-wrap">
                          <div data-v-6ecd2302="" class="detail-one">
                            40.65M
                          </div>
                          <div data-v-6ecd2302="" class="detail-two">
                            00:00/15:34
                          </div>
                        </div>
                      </div>
                      <div
                        data-v-6ecd2302=""
                        class="division-line inline-block"
                      ></div>
                      <div data-v-6ecd2302="" class="viedo-wrap inline-block">
                        <div data-v-6ecd2302="" class="viedo-icon"></div>
                        <div data-v-6ecd2302="" class="text">看视频</div>
                      </div>
                    </div>
                    <!---->
                  </div>
                </div>
                <div data-v-1605a430="" class="main-container">
                  <div data-v-1605a430="" class="rich-text-wrap">
                    <p data-nodeid="185601" class="">
                      跨平台其实是一个老生常谈的话题，技术方案也是历经变迁，但始终热点不断，究其原因有二：
                    </p>
                    <ul data-nodeid="185602">
                      <li data-nodeid="185603">
                        <p data-nodeid="185604">
                          首先，移动端原生技术需要配备 iOS 和 Android
                          两套团队和技术栈，且存在<strong data-nodeid="185720"
                            >发版周期限制</strong
                          >，开发效率上存在天然缺陷；
                        </p>
                      </li>
                      <li data-nodeid="185605">
                        <p data-nodeid="185606">
                          其次，原生跨平台技术虽然“出道”较早，但是各方案都难以做到完美，因此也<strong
                            data-nodeid="185726"
                            >没有大一统的技术垄断</strong
                          >。
                        </p>
                      </li>
                    </ul>
                    <p data-nodeid="185607">
                      这一讲我们就从历史角度出发，剖析原生跨平台技术的原理，同时梳理相关技术热点，和你聊一聊
                      Flutter 背后的技术变革。
                    </p>
                    <h3 data-nodeid="185608">移动端跨平台技术原理和变迁</h3>
                    <p data-nodeid="185609">
                      移动端跨平台是一个美好的愿景。我们先来看一下移动端跨平台技术发展的时间线：
                    </p>
                    <p data-nodeid="186015" class="">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK5OADuyQAAIWqX8rFbk913.png"
                        alt="Lark20210202-183723.png"
                        data-nodeid="186018"
                      />
                    </p>

                    <h4 data-nodeid="185611">
                      基于 WebView 到 JSBridge 的 Hybrid 方案发展
                    </h4>
                    <p data-nodeid="185612">
                      最早的实践就是通过 WebView 双端运行 Web 代码。事实上，虽然
                      iOS 和 Android 系统难以统一，但是它们都对 Web
                      技术开放，于是有的人开玩笑：“不管是
                      Mac、Windows、Linux、iOS、Android
                      还是其他平台，只要给一个浏览器，连‘月球’上它都能跑。”因此，<strong
                        data-nodeid="185743"
                        >Hybrid 方案</strong
                      >算是最古老，但也是<strong data-nodeid="185744"
                        >最成熟、应用最为广泛</strong
                      >的技术。
                    </p>
                    <p data-nodeid="185613">
                      在 iOS 和 Android 系统上运行 JavaScript
                      并不是一件难事儿，但是对于一个真正意义上的跨平台应用来说，还需要做到<strong
                        data-nodeid="185750"
                        >H5（即 WebView 容器）和原生平台的交互</strong
                      >，于是 JSBridge 技术就诞生了。
                    </p>
                    <p data-nodeid="185614">
                      JSBridge 原理很简单，我们知道，在原生平台中，JavaScript
                      代码是运行在一个单独的 JS Context 中（比如 WebView 的
                      WebKit 引擎、JavaSriptCore
                      等），这个独立的上下文和原生能力的交互过程是双向的，我们可以从两个方面简要分析。
                    </p>
                    <ol data-nodeid="185615">
                      <li data-nodeid="185616">
                        <p data-nodeid="185617">
                          JavaScript 调用 Native，方法有：
                        </p>
                        <ul data-nodeid="185618">
                          <li data-nodeid="185619">
                            <p data-nodeid="185620">注入 APIs；</p>
                          </li>
                          <li data-nodeid="185621">
                            <p data-nodeid="185622">拦截 URL Scheme。</p>
                          </li>
                        </ul>
                      </li>
                      <li data-nodeid="185623">
                        <p data-nodeid="185624">Native 调用 JavaScript。</p>
                      </li>
                    </ol>
                    <p data-nodeid="185625">
                      前端调用原生能力主要有两种方式，注入 APIs
                      其实就是原生平台通过 WebView 提供的接口，向 JavaScript
                      Context 中（一般使用 Window
                      对象），注入相关方案和数据；另一种拦截 URL Scheme
                      就更加简单了，前端通过发送定义好的 URL Scheme
                      请求，并将相关数据放在请求体中，该请求被原生平台拦截后，由原生平台做出响应。
                    </p>
                    <p data-nodeid="185626">
                      Native 调用 JavaScript，实现起来也很简单。因为 Native
                      实际上是 WebView 的宿主，因此 Native
                      具有更大权限，故而<strong data-nodeid="185762"
                        >原生平台可以通过 WebView APIs 直接执行 JavaScript
                        代码</strong
                      >。
                    </p>
                    <p data-nodeid="185627">
                      随着 JSBridge 这种方式实现跨平台技术的成熟，社区上出现了
                      Cordova、Ionic 等框架，它们<strong data-nodeid="185768"
                        >本质上都是使用 HTML、CSS 和 JavaScript
                        进行跨平台原生应用的开发</strong
                      >。该方案说到底是在 iOS 和 Androd 上运行 Web
                      应用，因此也存在较多问题，比如：
                    </p>
                    <ul data-nodeid="185628">
                      <li data-nodeid="185629">
                        <p data-nodeid="185630">
                          JavaScript Context 和原生通信频繁，导致性能体验较差；
                        </p>
                      </li>
                      <li data-nodeid="185631">
                        <p data-nodeid="185632">
                          页面逻辑由前端负责，组件也是前端渲染，也造成了性能短板；
                        </p>
                      </li>
                      <li data-nodeid="185633">
                        <p data-nodeid="185634">
                          运行 JavaScript 的 WebView 内核在各平台上不统一；
                        </p>
                      </li>
                      <li data-nodeid="185635">
                        <p data-nodeid="185636">
                          国内厂商对于系统的深度定制，导致内核碎片化。
                        </p>
                      </li>
                    </ul>
                    <p data-nodeid="185637">
                      因此，新一代的 Hybrid 跨平台方式，以<strong
                        data-nodeid="185782"
                        >React Native 为代表</strong
                      >的方案就诞生了，这种方案主要思想是：开发者依然<strong
                        data-nodeid="185783"
                        >使用 Web 语言（如 React 框架或其他
                        DSL），但渲染基本交给原生平台处理。</strong
                      >
                      这样一来，在视图层面就可以摆脱 WebView
                      的束缚，保障了开发体验和效率，以及使用性能。我把这种技术叫作基于
                      OEM 的 Hybrid 方案。
                    </p>
                    <p data-nodeid="185638">
                      React Native 脱胎于 React
                      理念，它将数据与视图相隔离，<strong data-nodeid="185789"
                        >React Native
                        代码中的标签映射为虚拟节点，由原生平台解析虚拟节点并渲染出原生组件</strong
                      >。美好的愿景是：开发者使用 React 语法，同时开发原生应用和
                      Web
                      应用，其中组件渲染、动画效果、网络请求等都由原生平台来负责。整体技术架构如下图：
                    </p>
                    <p data-nodeid="186847" class="">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK5-ASl0rAAMYrAXB4Po374.png"
                        alt="Lark20210202-183726.png"
                        data-nodeid="186851"
                      />
                    </p>
                    <div data-nodeid="186848">
                      <p style="text-align: center">React Native 技术架构图</p>
                    </div>

                    <p data-nodeid="185641">如上图，React Native 主要由：</p>
                    <ul data-nodeid="185642">
                      <li data-nodeid="185643">
                        <p data-nodeid="185644">JavaScript</p>
                      </li>
                      <li data-nodeid="185645">
                        <p data-nodeid="185646">C++ 适配层</p>
                      </li>
                      <li data-nodeid="185647">
                        <p data-nodeid="185648">iOS/Androd</p>
                      </li>
                    </ul>
                    <p data-nodeid="185649">
                      三层组成，最重要的<strong data-nodeid="185810"
                        >C++ 层实现了动态链接库</strong
                      >，起到了衔接适配前端和原生平台作用，这个衔接具体指：使用
                      JavaScriptCore 解析 JavaScript 代码（iOS 上不允许用自己的
                      JS Engine，iOS 7+ 默认使用 JavaScriptCore，Android
                      也默认使用 JavaScriptCore），通过
                      <a
                        href="https://github.com/facebook/react-native/blob/master/Libraries/BatchedBridge/MessageQueue.js"
                        data-nodeid="185804"
                        >MessageQueue.js</a
                      >
                      实现双向通信，<strong data-nodeid="185811"
                        >实际上通信格式类似 JSON-RPC</strong
                      >。
                    </p>
                    <p data-nodeid="185650">
                      这里我们以一个从 JavaScript 传递数据给原生平台
                      <a
                        href="https://github.com/facebook/react-native/blob/master/ReactAndroid/src/main/java/com/facebook/react/uimanager/UIManagerModule.java"
                        data-nodeid="185815"
                        >UIManager</a
                      >
                      更新页面视图为例，了解下数据信息内容：
                    </p>
                    <div class="course-code-area">
                      <div class="copy-btn">
                        <div class="copy-icon"></div>
                        复制代码
                      </div>
                      <pre><code data-language="java"><ol><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: Running application <span class="hljs-string">"MoviesApp"</span> with appParams: {<span class="hljs-string">"initialProps"</span>:{},<span class="hljs-string">"rootTag"</span>:<span class="hljs-number">1</span>}. __DEV__ === <span class="hljs-keyword">false</span>, development-level warning are OFF, performance optimizations are ON
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">4</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"flex"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"overflow"</span>:<span class="hljs-string">"hidden"</span>,<span class="hljs-string">"backgroundColor"</span>:-<span class="hljs-number">1</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">5</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"flex"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"backgroundColor"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"overflow"</span>:<span class="hljs-string">"hidden"</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">6</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"pointerEvents"</span>:<span class="hljs-string">"auto"</span>,<span class="hljs-string">"position"</span>:<span class="hljs-string">"absolute"</span>,<span class="hljs-string">"overflow"</span>:<span class="hljs-string">"hidden"</span>,<span class="hljs-string">"left"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"right"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"bottom"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"top"</span>:<span class="hljs-number">0</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">7</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"flex"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"backgroundColor"</span>:-<span class="hljs-number">1</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">8</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"flexDirection"</span>:<span class="hljs-string">"row"</span>,<span class="hljs-string">"alignItems"</span>:<span class="hljs-string">"center"</span>,<span class="hljs-string">"backgroundColor"</span>:-<span class="hljs-number">5658199</span>,<span class="hljs-string">"height"</span>:<span class="hljs-number">56</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">9</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"nativeBackgroundAndroid"</span>:{<span class="hljs-string">"type"</span>:<span class="hljs-string">"ThemeAttrAndroid"</span>,<span class="hljs-string">"attribute"</span>:<span class="hljs-string">"selectableItemBackgroundBorderless"</span>},<span class="hljs-string">"accessible"</span>:<span class="hljs-keyword">true</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">10</span>,<span class="hljs-string">"RCTImageView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"width"</span>:<span class="hljs-number">24</span>,<span class="hljs-string">"height"</span>:<span class="hljs-number">24</span>,<span class="hljs-string">"overflow"</span>:<span class="hljs-string">"hidden"</span>,<span class="hljs-string">"marginHorizontal"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"shouldNotifyLoadEvents"</span>:<span class="hljs-keyword">false</span>,<span class="hljs-string">"src"</span>:[{<span class="hljs-string">"uri"</span>:<span class="hljs-string">"android_search_white"</span>}],<span class="hljs-string">"loadingIndicatorSrc"</span>:<span class="hljs-keyword">null</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">9</span>,[<span class="hljs-number">10</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">12</span>,<span class="hljs-string">"AndroidTextInput"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"autoCapitalize"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"autoCorrect"</span>:<span class="hljs-keyword">false</span>,<span class="hljs-string">"placeholder"</span>:<span class="hljs-string">"Search a movie..."</span>,<span class="hljs-string">"placeholderTextColor"</span>:-<span class="hljs-number">2130706433</span>,<span class="hljs-string">"flex"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"fontSize"</span>:<span class="hljs-number">20</span>,<span class="hljs-string">"fontWeight"</span>:<span class="hljs-string">"bold"</span>,<span class="hljs-string">"color"</span>:-<span class="hljs-number">1</span>,<span class="hljs-string">"height"</span>:<span class="hljs-number">50</span>,<span class="hljs-string">"padding"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"backgroundColor"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"mostRecentEventCount"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"onSelectionChange"</span>:<span class="hljs-keyword">true</span>,<span class="hljs-string">"text"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"accessible"</span>:<span class="hljs-keyword">true</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">13</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"alignItems"</span>:<span class="hljs-string">"center"</span>,<span class="hljs-string">"justifyContent"</span>:<span class="hljs-string">"center"</span>,<span class="hljs-string">"width"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"height"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"marginRight"</span>:<span class="hljs-number">16</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">14</span>,<span class="hljs-string">"AndroidProgressBar"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"animating"</span>:<span class="hljs-keyword">false</span>,<span class="hljs-string">"color"</span>:-<span class="hljs-number">1</span>,<span class="hljs-string">"width"</span>:<span class="hljs-number">36</span>,<span class="hljs-string">"height"</span>:<span class="hljs-number">36</span>,<span class="hljs-string">"styleAttr"</span>:<span class="hljs-string">"Normal"</span>,<span class="hljs-string">"indeterminate"</span>:<span class="hljs-keyword">true</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">13</span>,[<span class="hljs-number">14</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">8</span>,[<span class="hljs-number">9</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">15</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"height"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"backgroundColor"</span>:-<span class="hljs-number">1118482</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">16</span>,<span class="hljs-string">"RCTView"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"flex"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"backgroundColor"</span>:-<span class="hljs-number">1</span>,<span class="hljs-string">"alignItems"</span>:<span class="hljs-string">"center"</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">17</span>,<span class="hljs-string">"RCTText"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"marginTop"</span>:<span class="hljs-number">80</span>,<span class="hljs-string">"color"</span>:-<span class="hljs-number">7829368</span>,<span class="hljs-string">"accessible"</span>:<span class="hljs-keyword">true</span>,<span class="hljs-string">"allowFontScaling"</span>:<span class="hljs-keyword">true</span>,<span class="hljs-string">"ellipsizeMode"</span>:<span class="hljs-string">"tail"</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">18</span>,<span class="hljs-string">"RCTRawText"</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">"text"</span>:<span class="hljs-string">"No movies found"</span>}])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">17</span>,[<span class="hljs-number">18</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">16</span>,[<span class="hljs-number">17</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">7</span>,[<span class="hljs-number">8</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">6</span>,[<span class="hljs-number">7</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">5</span>,[<span class="hljs-number">6</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">4</span>,[<span class="hljs-number">5</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">3</span>,[<span class="hljs-number">4</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">2</span>,[<span class="hljs-number">3</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">1</span>,[<span class="hljs-number">2</span>]])
</div></li></ol></code></pre>
                    </div>
                    <p data-nodeid="185652">
                      下面数据是一个 touch 交互信息，JavaScriptCore 传递用户
                      touch 信息给原生平台：
                    </p>
                    <div class="course-code-area">
                      <div class="copy-btn">
                        <div class="copy-icon"></div>
                        复制代码
                      </div>
                      <pre><code data-language="java"><ol><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: N-&gt;JS : RCTEventEmitter.receiveTouches([<span class="hljs-string">"topTouchStart"</span>,[{<span class="hljs-string">"identifier"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"locationY"</span>:<span class="hljs-number">47.9301872253418</span>,<span class="hljs-string">"locationX"</span>:<span class="hljs-number">170.43936157226562</span>,<span class="hljs-string">"pageY"</span>:<span class="hljs-number">110.02542877197266</span>,<span class="hljs-string">"timestamp"</span>:<span class="hljs-number">2378613</span>,<span class="hljs-string">"target"</span>:<span class="hljs-number">26</span>,<span class="hljs-string">"pageX"</span>:<span class="hljs-number">245.4869842529297</span>}],[<span class="hljs-number">0</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.createTimer([<span class="hljs-number">18</span>,<span class="hljs-number">130</span>,<span class="hljs-number">1477140761852</span>,<span class="hljs-keyword">false</span>])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.createTimer([<span class="hljs-number">19</span>,<span class="hljs-number">500</span>,<span class="hljs-number">1477140761852</span>,<span class="hljs-keyword">false</span>])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setJSResponder([<span class="hljs-number">23</span>,<span class="hljs-keyword">false</span>])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: N-&gt;JS : RCTEventEmitter.receiveTouches([<span class="hljs-string">"topTouchEnd"</span>,[{<span class="hljs-string">"identifier"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"locationY"</span>:<span class="hljs-number">47.9301872253418</span>,<span class="hljs-string">"locationX"</span>:<span class="hljs-number">170.43936157226562</span>,<span class="hljs-string">"pageY"</span>:<span class="hljs-number">110.02542877197266</span>,<span class="hljs-string">"timestamp"</span>:<span class="hljs-number">2378703</span>,<span class="hljs-string">"target"</span>:<span class="hljs-number">26</span>,<span class="hljs-string">"pageX"</span>:<span class="hljs-number">245.4869842529297</span>}],[<span class="hljs-number">0</span>]])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.clearJSResponder([])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.deleteTimer([<span class="hljs-number">19</span>])
</div></li><li><div class="code-word"><span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.deleteTimer([<span class="hljs-number">18</span>])
</div></li></ol></code></pre>
                    </div>
                    <p data-nodeid="185654">
                      除了 UI 渲染、交互信息、网络调用等通信也都是通过
                      MessageQueue 来完成，如下数据， JavaScriptCore
                      传递网络请求信息给原生平台：
                    </p>
                    <div class="course-code-area">
                      <div class="copy-btn">
                        <div class="copy-icon"></div>
                        复制代码
                      </div>
                      <pre><code data-language="java"><ol><li><div class="code-word">5835 I ReactNativeJS: JS-&gt;N : Networking.sendRequest(["GET","http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=7waqfqbprs7pajbz28mqf6vz&amp;page_limit=20&amp;page=1",1,[],{"trackingName":"unknown"},"text",false,0])
</div></li><li><div class="code-word">5835 I ReactNativeJS: N-&gt;JS : RCTDeviceEventEmitter.emit(["didReceiveNetworkResponse",[1,200,{"Connection":"keep-alive","X-Xss-Protection":"1; mode=block","Content-Security-Policy":"frame-ancestors 'self' rottentomatoes.com *.rottentomatoes.com ;","Date":"Sat, 22 Oct 2016 13:58:53 GMT","Set-Cookie":"JSESSIONID=63B283B5ECAA9BBECAE253E44455F25B; Path=/; HttpOnly","Server":"nginx/1.8.1","X-Content-Type-Options":"nosniff","X-Mashery-Responder":"prod-j-worker-us-east-1b-115.mashery.com","Vary":"User-Agent,Accept-Encoding","Content-Language":"en-US","Content-Type":"text/javascript;charset=ISO-8859-1","X-Content-Security-Policy":"frame-ancestors 'self' rottentomatoes.com *.rottentomatoes.com ;"},"http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=7waqfqbprs7pajbz28mqf6vz&amp;page_limit=20&amp;page=1"]])
</div></li><li><div class="code-word">5835 I ReactNativeJS: N-&gt;JS : RCTDeviceEventEmitter.emit(["didReceiveNetworkData",[1,"{\"total\":128,\"movies\":[{\"id\":\"771419323\",\"title\":\"The Accountant\",\"year\":2016,\"mpaa_rating\":\"R\",\"runtime\":128,\"critics_consensus\":\"\",\"release_dates\":{\"theater\":\"2016-10-14\"},\"ratings\":{\"critics_rating\":\"Rotten\",\"critics_score\":50,\"audience_rating\":\"Upright\",\"audience_score\":86},\"synopsis\":\"Christian Wolff (Ben Affleck) is a math savant with more affinity for numbers than people. Behind the cover of a small-town CPA office, he works as a freelance accountant for some of the world's most dangerous criminal organizations. With the Treasury Department's Crime Enforcement Division, run by Ray King (J.K. Simmons), starting to close in, Christian takes on a legitimate client: a state-of-the-art robotics company where an accounting clerk (Anna Kendrick) has discovered a discrepancy involving millions of dollars. But as Christian uncooks the books and gets closer to the truth, it is the body count that starts to rise.\",\"posters\":{\"thumbnail\":\"https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\",\"profile\":\"https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\",\"detailed\":\"https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\",\"original\":\"https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\"},\"abridged_cast\":[{\"name\":\"Ben Affleck\",\"id\":\"162665891\",\"characters\":[\"Christian Wolff\"]},{\"name\":\"Anna Kendrick\",\"id\":\"528367112\",\"characters\":[\"Dana Cummings\"]},{\"name\":\"J.K. Simmons\",\"id\":\"592170459\",\"characters\":[\"Ray King\"]},{\"name\":\"Jon Bernthal\",\"id\":\"770682766\",\"characters\":[\"Brax\"]},{\"name\":\"Jeffrey Tambor\",\"id\":\"162663809\",\"characters\":[\"Francis Silverberg\"]}],\"links\":{\"self\":\"http://api.rottentomatoes.com/api/public/v1.0/movies/771419323.json\",\"alternate\":\"http://www.rottentomatoes.com/m/the_accountant_2016/\",\"cast\":\"http://api.rottentomatoes.com/api/public/v1.0/movies/771419323/cast.json\",\"reviews\":\"http://api.rottentomatoes.com/api/public/v1.0/movies/771419323/reviews.json\",\"similar\":\"http://api.rottentomatoes.com/api/public/v1.0/movies/771419323/similar.json\"}},{\"id\":\"771359360\",\"title\":\"Miss Peregrine's Home for Peculiar Children\",\"year\":2016,\"mpaa_rating\":\"PG-13\",\"runtime\":127,\"critics_consensus\":\"\",\"release_dates\":{\"theater\":\"2016-09-30\"},\"ratings\":{\"critics_rating\":\"Fresh\",\"critics_score\":64,\"audience_rating\":\"Upright\",\"audience_score\":65},\"synopsis\":\"From visionary director Tim Burton, and based upon the best-selling novel, comes an unforgettable motion picture experience. When Jake discovers clues to a mystery that spans different worlds and times, he finds a magical place known as Miss Peregrine's Home for Peculiar Children. But the mystery and danger deepen as he gets to know the residents and learns about their special powers...and their powerful enemies. Ultimately, Jake discovers that only his own special \\\"peculiarity\\\" can save his new friends.\",\"posters\":{\"thumbnail\":\"https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\",\"profile\":\"https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\",\"detailed\":\"https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\",\"original\":\"https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\"},\"abridged_cast\":[{\"name\":\"Eva Green\",\"id\":\"162652241\",\"characters\":[\"Miss Peregrine\"]},{\"name\":\"Asa Butterfield\",\"id\":\"770800323\",\"characters\":[\"Jake\"]},{\"name\":\"Chris O'Dowd\",\"id\":\"770684214\",\"char
</div></li><li><div class="code-word">5835 I ReactNativeJS: N-&gt;JS : RCTDeviceEventEmitter.emit(["didCompleteNetworkResponse",[1,null]])
</div></li></ol></code></pre>
                    </div>
                    <p data-nodeid="185656">
                      这样的效果显而易见，<strong data-nodeid="185832"
                        >通过前端能力，实现了原生应用的跨平台，快速编译、快速发布</strong
                      >。但是缺点也比较明显：上述数据通信过程是异步的，<strong
                        data-nodeid="185833"
                        >通信成本很高</strong
                      >。除此之外，目前 React Native 仍有部分组件和 API
                      并没有实现平台统一，也在一定程度上需要开发者了解原生开发细节。正因如此，社区上也出现了著名文章<a
                        href="https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c"
                        data-nodeid="185830"
                        >《React Native at Airbnb》</a
                      >，文中表示 Airbnb 团队在技术选型上将会放弃 React Native。
                    </p>
                    <p data-nodeid="185657">
                      在我看来，放弃 React
                      Native，拥抱新的跨平台技术并不是每个团队都有实力和魄力施行的，而改造
                      React Native 是另外一些团队做出的选择。
                    </p>
                    <p data-nodeid="185658">
                      比如<strong data-nodeid="185844">携程的 CRN</strong
                      >（Ctrip React Native）。它在 React Native 基础上，抹平了
                      iOS 和 Android
                      端组件开发差异，做了大量性能提升的工作。更重要的是，依托于
                      CRN，它在后续的产品 CRN-Web 也做了 Web
                      支持和接入。再比如，更加出名的<strong data-nodeid="185845"
                        >Alibaba 出品的 WEEX</strong
                      >也是基于 React Native 思想进行的某种改造，只不过 WEEX
                      基于 Vue，除了支持原生平台，还支持了 Web
                      平台，实现了端上的大一统。WEEX
                      技术架构如下图（出自官网）：
                    </p>
                    <p data-nodeid="188513" class="">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK82AKeB3AADlYd3QMbY205.png"
                        alt="Lark20210202-183709.png"
                        data-nodeid="188517"
                      />
                    </p>
                    <div data-nodeid="188514">
                      <p style="text-align: center">WEEX 技术架构图</p>
                    </div>

                    <p data-nodeid="185661">
                      话题再回到 React Native，针对一些固有缺陷，React Native
                      进行了技术上的重构，我认为这是基于 OEM Hybrid 方案的 2.0
                      演进，下面我们进一步探究。
                    </p>
                    <h4 data-nodeid="185662">
                      从 React Native 技术重构出发，分析原生跨平台技术栈方向
                    </h4>
                    <p data-nodeid="185663">
                      上文我们提到，React Native 通过数据通信架起了 Web
                      和原生平台的桥梁，而这个数据通信方式是异步的。React
                      工程经理 Sophie Alpert 将这种异步通信方式称为 Asynchronous
                      Bridge，这样的设计获得了线程隔离的便利，具备了尽可能的灵活性，但是这也意味着
                      JavaScript
                      逻辑与原生能力永远无法处在同一个时空，无法共享一个内存空间。
                    </p>
                    <p data-nodeid="185664">老架构图：</p>
                    <p data-nodeid="185665">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/8A/Ciqc1GAYzjeAD4rFAAxfnuLVOGI871.png"
                        alt="Drawing 3.png"
                        data-nodeid="185855"
                      />
                    </p>
                    <p data-nodeid="185666">对比新的架构图：</p>
                    <p data-nodeid="185667">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/95/CgqCHmAYzj-ANDk6AAyPBuKOtmk965.png"
                        alt="Drawing 4.png"
                        data-nodeid="185859"
                      />
                    </p>
                    <p data-nodeid="185668">
                      基于这个问题，新的 React Native
                      技术架构将从三个方面进行革新。
                    </p>
                    <ol data-nodeid="185669">
                      <li data-nodeid="185670">
                        <p data-nodeid="185671">
                          <strong data-nodeid="185865">改变线程模型</strong
                          >（Threading Model），以往 React Native 的 UI
                          更新需要在三个不同的线程进行，新的方案使具有高优先级更新的线程，直接同步调用
                          JavaScript；同时低优先级的 UI
                          更新任务不会占用主线程。这里提到的三个并行线程是：
                        </p>
                        <ul data-nodeid="185672">
                          <li data-nodeid="185673">
                            <p data-nodeid="185674">
                              <strong data-nodeid="185870"
                                >JavaScript 线程</strong
                              >，在这个线程中，Metro 负责生成 JS
                              bundles，JavaScriptCore 负责在应用运行时解析执行
                              JavaScript 代码；
                            </p>
                          </li>
                          <li data-nodeid="185675">
                            <p data-nodeid="185676">
                              <strong data-nodeid="185875">原生线程</strong
                              >，这个线程负责用户界面，每当需要更新 UI
                              时，该线程将会与 JavaScript
                              线程通信，可以细分为原生模块和原生 UI；
                            </p>
                          </li>
                          <li data-nodeid="185677">
                            <p data-nodeid="185678">
                              <strong data-nodeid="185880">Shadow 线程</strong
                              >，该线程负责计算布局，React Native 具体通过 Yoga
                              布局引擎来解析并计算 Flexbox
                              布局，并将结果发送回原生 UI 线程。
                            </p>
                          </li>
                        </ul>
                      </li>
                      <li data-nodeid="185679">
                        <p data-nodeid="185680">
                          <strong data-nodeid="185888">引入</strong
                          ><a
                            href="https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html"
                            data-nodeid="185886"
                            >异步渲染能力</a
                          >，实现不同优先级的渲染，同时简化渲染数据信息。
                        </p>
                      </li>
                      <li data-nodeid="185681">
                        <p data-nodeid="185682">
                          <strong data-nodeid="185893">简化 Bridge 实现</strong
                          >，使之更轻量可靠，使 JavaScript
                          和原生平台的调用更加高效。
                        </p>
                      </li>
                    </ol>
                    <p data-nodeid="185683">
                      举个例子，这些改造能够使得“<strong data-nodeid="185899"
                        >手势处理</strong
                      >”——这个 React Native
                      老大难问题得到更好的解决，比如新的线程模型能够使手势触发的交互和
                      UI 渲染效率更高，减少异步通信更新 UI
                      成本，使视图尽快响应用户的交互。
                    </p>
                    <p data-nodeid="185684">
                      我们从更细节的角度来加深理解。上述重构的核心之一其实是使用基于
                      JavaScript Interface (JSI) 的新 Bridge 方案来取代之前的
                      Bridge 方案。
                    </p>
                    <p data-nodeid="185685">新的 Bridge 方案由两部分组成：</p>
                    <ul data-nodeid="185686">
                      <li data-nodeid="185687">
                        <p data-nodeid="185688">
                          <strong data-nodeid="185906"
                            >Fabric，新的 UIManager</strong
                          >；
                        </p>
                      </li>
                      <li data-nodeid="185689">
                        <p data-nodeid="185690">
                          <strong data-nodeid="185911"
                            >TurboModules，新的原生模块</strong
                          >。
                        </p>
                      </li>
                    </ul>
                    <p data-nodeid="185691">
                      其中 Fabric 运行 UIManager<strong data-nodeid="185921"
                        >直接用 C++ 生成 Shadow Tree</strong
                      >，而不需要走一遍老架构的 React → Native → Shadow Tree →
                      Native UI 路径。这就<strong data-nodeid="185922"
                        >减少了通信成本，提升交互性能</strong
                      >。这个过程依赖于 JSI，JSI 并不和 JavaScriptCore
                      绑定，因此我们可以实现引擎互换（比如使用
                      V8，或任何其他版本的 JavaScriptCore）。
                    </p>
                    <p data-nodeid="185692">
                      同时，JSI 可以获取 C++ Host Objects，并调用 Host Objects
                      上的方法，这样能够完成<strong data-nodeid="185928"
                        >JavaScript 和原生平台的直接感知</strong
                      >，达到“所有线程之间的互相调用操作”，因此我们就不再依赖“将传递消息序列化，并进行异步通信”了。这也就消除了异步通信带来的拥塞等问题。
                    </p>
                    <p data-nodeid="185693">
                      新的方案也允许 JavaScript 代码<strong data-nodeid="185934"
                        >仅在真正需要时加载每个模块</strong
                      >，如果应用中并不需要使用 Native
                      Modules（例如蓝牙功能），那么它就不会在程序打开时被加载，这样就可以提升应用的启动时间。
                    </p>
                    <p data-nodeid="185694">
                      总之，新的 React Native 架构将会在 Hybrid
                      思想上将性能优化做到极致，我们可以密切关注相关技术的发展。一条路优化到底是我们需要学习的，另辟蹊径也是我们需要掌握的，接下来，我们看看
                      Flutter 技术如何从另一个赛道出发，革新了跨平台技术方案。
                    </p>
                    <h3 data-nodeid="185695">Flutter 新贵背后的技术变革</h3>
                    <p data-nodeid="185696">
                      Flutter<strong data-nodeid="185952"
                        >采用了 Dart 编程语言</strong
                      >，它在技术设计上不同于 React Native
                      的一个显著特点是：<strong data-nodeid="185953"
                        >Flutter 并非使用原生平台组件进行渲染</strong
                      >。比如在 React Native 中，一个<code
                        data-backticks="1"
                        data-nodeid="185946"
                        >&lt;view&gt;</code
                      >组件会被最终编译为 iOS 平台的 UIView Element 以及 Android
                      平台的 View Element，但在 Flutter 中，Flutter
                      自身提供一组组件集合，这些组件集合被 Flutter
                      框架和引擎直接接管。如下图（出自
                      <a
                        href="https://www.codemag.com/Article/1909091/Cross-Platform-Mobile-Development-Using-Flutter"
                        data-nodeid="185950"
                        >Cross-Platform Mobile Development Using Flutter</a
                      >）：
                    </p>
                    <p data-nodeid="187680" class="">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK76AWfZpAApvFObEYiY127.png"
                        alt="Lark20210202-183731.png"
                        data-nodeid="187684"
                      />
                    </p>
                    <div data-nodeid="187681">
                      <p style="text-align: center">Flutter 工作原理图</p>
                    </div>

                    <p data-nodeid="185699">
                      Flutter
                      组件依靠自身高性能的渲染引擎进行视图的渲染。具体来说，每一个组件会被渲染在
                      Skia 上，Skia 是一个 2D 的绘图引擎库，具有跨平台特点。Skia
                      唯一需要的就是<strong data-nodeid="185962"
                        >原生平台提供 Canvas 接口，实现绘制</strong
                      >。我们再通过一个横向架构图来了解实现细节：
                    </p>
                    <p data-nodeid="189346" class="te-preview-highlight">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK9iAVaYlAAna3hqvMhs586.png"
                        alt="Lark20210202-183729.png"
                        data-nodeid="189350"
                      />
                    </p>
                    <div data-nodeid="189347">
                      <p style="text-align: center">Flutter 技术方案架构图</p>
                    </div>

                    <p data-nodeid="185702">
                      Flutter
                      技术方案主要分为三层：Framework、Engine、Embedder。其中<strong
                        data-nodeid="185979"
                        >Framework 层由 Dart
                        语言实现，业务代码直接运行在这一层</strong
                      >。框架的 Framework 层提供了 Material Design
                      风格的组件，以及<a
                        href="https://flutterchina.club/widgets/cupertino/"
                        data-nodeid="185973"
                        >适合 iOS 的 Cupertino 风格组件</a
                      >。以 Cupertino 风格的 button 组件为例，其<a
                        href="https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/cupertino/button.dart"
                        data-nodeid="185977"
                        >源码</a
                      >如下：
                    </p>
                    <div class="course-code-area">
                      <div class="copy-btn">
                        <div class="copy-icon"></div>
                        复制代码
                      </div>
                      <pre><code data-language="java"><ol><li><div class="code-word"><span class="hljs-comment">// 引入基础及组件</span>
</div></li><li><div class="code-word"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/foundation.dart'</span>;
</div></li><li><div class="code-word"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/widgets.dart'</span>;
</div></li><li><div class="code-word"><span class="hljs-comment">// 引入相关库</span>
</div></li><li><div class="code-word"><span class="hljs-keyword">import</span> <span class="hljs-string">'colors.dart'</span>;
</div></li><li><div class="code-word"><span class="hljs-keyword">import</span> <span class="hljs-string">'constants.dart'</span>;
</div></li><li><div class="code-word"><span class="hljs-keyword">import</span> <span class="hljs-string">'theme.dart'</span>;
</div></li><li><div class="code-word"><span class="hljs-keyword">const</span> EdgeInsets _kButtonPadding = EdgeInsets.all(<span class="hljs-number">16.0</span>);
</div></li><li><div class="code-word"><span class="hljs-keyword">const</span> EdgeInsets _kBackgroundButtonPadding = EdgeInsets.symmetric(
</div></li><li><div class="code-word">  vertical: <span class="hljs-number">14.0</span>,
</div></li><li><div class="code-word">  horizontal: <span class="hljs-number">64.0</span>,
</div></li><li><div class="code-word">);
</div></li><li><div class="code-word"><span class="hljs-comment">// 一个 Cupertino 风格的按钮组件，继承了 StatefulWidget</span>
</div></li><li><div class="code-word"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CupertinoButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">CupertinoButton</span><span class="hljs-params">({
</span></span></div></li><li><div class="code-word">    Key? key,
</div></li><li><div class="code-word">    required <span class="hljs-keyword">this</span>.child,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.padding,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.color,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.disabledColor = CupertinoColors.quaternarySystemFill,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.minSize = kMinInteractiveDimensionCupertino,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.pressedOpacity = <span class="hljs-number">0.4</span>,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.borderRadius = <span class="hljs-keyword">const</span> BorderRadius.all(Radius.circular(<span class="hljs-number">8.0</span>)),
</div></li><li><div class="code-word">    required <span class="hljs-keyword">this</span>.onPressed,
</div></li><li><div class="code-word">  }) : <span class="hljs-title">assert</span><span class="hljs-params">(pressedOpacity == <span class="hljs-keyword">null</span> || (pressedOpacity &gt;= <span class="hljs-number">0.0</span> &amp;&amp; pressedOpacity &lt;= <span class="hljs-number">1.0</span>)</span>),
</div></li><li><div class="code-word">       <span class="hljs-title">assert</span><span class="hljs-params">(disabledColor != <span class="hljs-keyword">null</span>)</span>,
</div></li><li><div class="code-word">       _filled = <span class="hljs-keyword">false</span>,
</div></li><li><div class="code-word">       <span class="hljs-keyword">super</span>(key: key);
</div></li><li><div class="code-word">  <span class="hljs-keyword">const</span> CupertinoButton.filled({
</div></li><li><div class="code-word">    Key? key,
</div></li><li><div class="code-word">    required <span class="hljs-keyword">this</span>.child,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.padding,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.disabledColor = CupertinoColors.quaternarySystemFill,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.minSize = kMinInteractiveDimensionCupertino,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.pressedOpacity = <span class="hljs-number">0.4</span>,
</div></li><li><div class="code-word">    <span class="hljs-keyword">this</span>.borderRadius = <span class="hljs-keyword">const</span> BorderRadius.all(Radius.circular(<span class="hljs-number">8.0</span>)),
</div></li><li><div class="code-word">    required <span class="hljs-keyword">this</span>.onPressed,
</div></li><li><div class="code-word">  }) : <span class="hljs-keyword">assert</span>(pressedOpacity == <span class="hljs-keyword">null</span> || (pressedOpacity &gt;= <span class="hljs-number">0.0</span> &amp;&amp; pressedOpacity &lt;= <span class="hljs-number">1.0</span>)),
</div></li><li><div class="code-word">       <span class="hljs-keyword">assert</span>(disabledColor != <span class="hljs-keyword">null</span>),
</div></li><li><div class="code-word">       color = <span class="hljs-keyword">null</span>,
</div></li><li><div class="code-word">       _filled = <span class="hljs-keyword">true</span>,
</div></li><li><div class="code-word">       <span class="hljs-keyword">super</span>(key: key);
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> Widget child;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> EdgeInsetsGeometry? padding;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> Color? color;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> Color disabledColor;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> VoidCallback? onPressed;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span>? minSize;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span>? pressedOpacity;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> BorderRadius? borderRadius;
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> bool _filled;
</div></li><li><div class="code-word">  bool get enabled =&gt; onPressed != <span class="hljs-keyword">null</span>;
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span>
</div></li><li><div class="code-word">  <span class="hljs-function">_CupertinoButtonState <span class="hljs-title">createState</span><span class="hljs-params">()</span> </span>=&gt; _CupertinoButtonState();
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debugFillProperties</span><span class="hljs-params">(DiagnosticPropertiesBuilder properties)</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">super</span>.debugFillProperties(properties);
</div></li><li><div class="code-word">    properties.add(FlagProperty(<span class="hljs-string">'enabled'</span>, value: enabled, ifFalse: <span class="hljs-string">'disabled'</span>));
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">}
</div></li><li><div class="code-word"><span class="hljs-comment">// _CupertinoButtonState 类，继承了 CupertinoButton，同时应用 mixin</span>
</div></li><li><div class="code-word"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_CupertinoButtonState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">CupertinoButton</span>&gt; <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>{
</div></li><li><div class="code-word">  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> Duration kFadeOutDuration = Duration(milliseconds: <span class="hljs-number">10</span>);
</div></li><li><div class="code-word">  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> Duration kFadeInDuration = Duration(milliseconds: <span class="hljs-number">100</span>);
</div></li><li><div class="code-word">  <span class="hljs-keyword">final</span> Tween&lt;<span class="hljs-keyword">double</span>&gt; _opacityTween = Tween&lt;<span class="hljs-keyword">double</span>&gt;(begin: <span class="hljs-number">1.0</span>);
</div></li><li><div class="code-word">  late AnimationController _animationController;
</div></li><li><div class="code-word">  late Animation&lt;<span class="hljs-keyword">double</span>&gt; _opacityAnimation;
</div></li><li><div class="code-word">  <span class="hljs-comment">// 初始化状态</span>
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initState</span><span class="hljs-params">()</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">super</span>.initState();
</div></li><li><div class="code-word">    _animationController = AnimationController(
</div></li><li><div class="code-word">      duration: <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">Duration</span><span class="hljs-params">(milliseconds: <span class="hljs-number">200</span>)</span>,
</span></div></li><li><div class="code-word">      value: 0.0,
</div></li><li><div class="code-word">      vsync: <span class="hljs-keyword">this</span>,
</div></li><li><div class="code-word">    );
</div></li><li><div class="code-word">    _opacityAnimation = _animationController
</div></li><li><div class="code-word">      .drive(CurveTween(curve: Curves.decelerate))
</div></li><li><div class="code-word">      .drive(_opacityTween);
</div></li><li><div class="code-word">    _setTween();
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-comment">// 相关生命周期</span>
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">didUpdateWidget</span><span class="hljs-params">(CupertinoButton old)</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">super</span>.didUpdateWidget(old);
</div></li><li><div class="code-word">    _setTween();
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_setTween</span><span class="hljs-params">()</span> </span>{
</div></li><li><div class="code-word">    _opacityTween.end = widget.pressedOpacity ?? <span class="hljs-number">1.0</span>;
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dispose</span><span class="hljs-params">()</span> </span>{
</div></li><li><div class="code-word">    _animationController.dispose();
</div></li><li><div class="code-word">    <span class="hljs-keyword">super</span>.dispose();
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  bool _buttonHeldDown = <span class="hljs-keyword">false</span>;
</div></li><li><div class="code-word">  <span class="hljs-comment">// 处理 tap down 事件</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_handleTapDown</span><span class="hljs-params">(TapDownDetails event)</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">if</span> (!_buttonHeldDown) {
</div></li><li><div class="code-word">      _buttonHeldDown = <span class="hljs-keyword">true</span>;
</div></li><li><div class="code-word">      _animate();
</div></li><li><div class="code-word">    }
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-comment">// 处理 tap up 事件</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_handleTapUp</span><span class="hljs-params">(TapUpDetails event)</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">if</span> (_buttonHeldDown) {
</div></li><li><div class="code-word">      _buttonHeldDown = <span class="hljs-keyword">false</span>;
</div></li><li><div class="code-word">      _animate();
</div></li><li><div class="code-word">    }
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-comment">// 处理 tap cancel 事件</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_handleTapCancel</span><span class="hljs-params">()</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">if</span> (_buttonHeldDown) {
</div></li><li><div class="code-word">      _buttonHeldDown = <span class="hljs-keyword">false</span>;
</div></li><li><div class="code-word">      _animate();
</div></li><li><div class="code-word">    }
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-comment">// 相关动画处理</span>
</div></li><li><div class="code-word">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_animate</span><span class="hljs-params">()</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">if</span> (_animationController.isAnimating)
</div></li><li><div class="code-word">      <span class="hljs-keyword">return</span>;
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> bool wasHeldDown = _buttonHeldDown;
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> TickerFuture ticker = _buttonHeldDown
</div></li><li><div class="code-word">        ? _animationController.animateTo(<span class="hljs-number">1.0</span>, duration: kFadeOutDuration)
</div></li><li><div class="code-word">        : _animationController.animateTo(<span class="hljs-number">0.0</span>, duration: kFadeInDuration);
</div></li><li><div class="code-word">    ticker.then&lt;<span class="hljs-keyword">void</span>&gt;((<span class="hljs-keyword">void</span> value) {
</div></li><li><div class="code-word">      <span class="hljs-keyword">if</span> (mounted &amp;&amp; wasHeldDown != _buttonHeldDown)
</div></li><li><div class="code-word">        _animate();
</div></li><li><div class="code-word">    });
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span>
</div></li><li><div class="code-word">  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> bool enabled = widget.enabled;
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> CupertinoThemeData themeData = CupertinoTheme.of(context);
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> Color primaryColor = themeData.primaryColor;
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> Color? backgroundColor = widget.color == <span class="hljs-keyword">null</span>
</div></li><li><div class="code-word">      ? (widget._filled ? primaryColor : <span class="hljs-keyword">null</span>)
</div></li><li><div class="code-word">      : CupertinoDynamicColor.resolve(widget.color, context);
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> Color? foregroundColor = backgroundColor != <span class="hljs-keyword">null</span>
</div></li><li><div class="code-word">      ? themeData.primaryContrastingColor
</div></li><li><div class="code-word">      : enabled
</div></li><li><div class="code-word">        ? primaryColor
</div></li><li><div class="code-word">        : CupertinoDynamicColor.resolve(CupertinoColors.placeholderText, context);
</div></li><li><div class="code-word">    <span class="hljs-keyword">final</span> TextStyle textStyle = themeData.textTheme.textStyle.copyWith(color: foregroundColor);
</div></li><li><div class="code-word">    <span class="hljs-keyword">return</span> GestureDetector(
</div></li><li><div class="code-word">      behavior: HitTestBehavior.opaque,
</div></li><li><div class="code-word">      onTapDown: enabled ? _handleTapDown : <span class="hljs-keyword">null</span>,
</div></li><li><div class="code-word">      onTapUp: enabled ? _handleTapUp : <span class="hljs-keyword">null</span>,
</div></li><li><div class="code-word">      onTapCancel: enabled ? _handleTapCancel : <span class="hljs-keyword">null</span>,
</div></li><li><div class="code-word">      onTap: widget.onPressed,
</div></li><li><div class="code-word">      child: Semantics(
</div></li><li><div class="code-word">        button: <span class="hljs-keyword">true</span>,
</div></li><li><div class="code-word">        child: ConstrainedBox(
</div></li><li><div class="code-word">          constraints: widget.minSize == <span class="hljs-keyword">null</span>
</div></li><li><div class="code-word">            ? <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">BoxConstraints</span><span class="hljs-params">()</span>
</span></div></li><li><div class="code-word">            : <span class="hljs-title">BoxConstraints</span><span class="hljs-params">(
</span></div></li><li><div class="code-word">                minWidth: widget.minSize!,
</div></li><li><div class="code-word">                minHeight: widget.minSize!,
</div></li><li><div class="code-word">              ),
</div></li><li><div class="code-word">          child: <span class="hljs-title">FadeTransition</span><span class="hljs-params">(
</span></div></li><li><div class="code-word">            opacity: _opacityAnimation,
</div></li><li><div class="code-word">            child: DecoratedBox(
</div></li><li><div class="code-word">              decoration: BoxDecoration(
</div></li><li><div class="code-word">                borderRadius: widget.borderRadius,
</div></li><li><div class="code-word">                color: backgroundColor != <span class="hljs-keyword">null</span> &amp;&amp; !enabled
</div></li><li><div class="code-word">                  ? CupertinoDynamicColor.resolve(widget.disabledColor, context)
</div></li><li><div class="code-word">                  : backgroundColor,
</div></li><li><div class="code-word">              ),
</div></li><li><div class="code-word">              child: <span class="hljs-title">Padding</span><span class="hljs-params">(
</span></div></li><li><div class="code-word">                padding: widget.padding ?? (backgroundColor != <span class="hljs-keyword">null</span>
</div></li><li><div class="code-word">                  ? _kBackgroundButtonPadding
</div></li><li><div class="code-word">                  : _kButtonPadding),
</div></li><li><div class="code-word">                child: <span class="hljs-title">Center</span><span class="hljs-params">(
</span></div></li><li><div class="code-word">                  widthFactor: <span class="hljs-number">1.0</span>,
</div></li><li><div class="code-word">                  heightFactor: <span class="hljs-number">1.0</span>,
</div></li><li><div class="code-word">                  child: DefaultTextStyle(
</div></li><li><div class="code-word">                    style: textStyle,
</div></li><li><div class="code-word">                    child: IconTheme(
</div></li><li><div class="code-word">                      data: IconThemeData(color: foregroundColor),
</div></li><li><div class="code-word">                      child: widget.child,
</div></li><li><div class="code-word">                    ),
</div></li><li><div class="code-word">                  ),
</div></li><li><div class="code-word">                ),
</div></li><li><div class="code-word">              ),
</div></li><li><div class="code-word">            ),
</div></li><li><div class="code-word">          ),
</div></li><li><div class="code-word">        ),
</div></li><li><div class="code-word">      ),
</div></li><li><div class="code-word">    );
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">}
</div></li></ol></code></pre>
                    </div>
                    <p data-nodeid="185704">
                      通过上面代码，我们可以感知 Dart
                      语言风格以及设计一个组件的关键点：Flutter
                      组件分为两种类型，<strong data-nodeid="185989"
                        >StatelessWidget 无状态组件和 StatefulWidget
                        有状态组件</strong
                      >。上面 button 显然是一个有状态组件，它包含了
                      _CupertinoButtonState 类，并继承 State<code
                        data-backticks="1"
                        data-nodeid="185987"
                        >&lt;CupertinoButton&gt;</code
                      >。通常一个有状态组件的声明为：
                    </p>
                    <div class="course-code-area">
                      <div class="copy-btn">
                        <div class="copy-icon"></div>
                        复制代码
                      </div>
                      <pre><code data-language="java"><ol><li><div class="code-word"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCustomStatefulWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
</div></li><li><div class="code-word">  <span class="hljs-comment">//---constructor with named // argument: country--- MyCustomStatefulWidget( {Key key, this.country}) : super(key: key);</span>
</div></li><li><div class="code-word">  <span class="hljs-comment">//---used in _DisplayState--- final String country;</span>
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span> <span class="hljs-function">_DisplayState <span class="hljs-title">createState</span><span class="hljs-params">()</span> </span>=&gt; _DisplayState();
</div></li><li><div class="code-word">}
</div></li><li><div class="code-word">
</div></li><li><div class="code-word"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_DisplayState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyCustomStatefulWidget</span>&gt; </span>{
</div></li><li><div class="code-word">  <span class="hljs-meta">@override</span> <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{ 
</div></li><li><div class="code-word">    <span class="hljs-keyword">return</span> Center( 
</div></li><li><div class="code-word">      <span class="hljs-comment">//---country defined in StatefulWidget // subclass--- child: Text(widget.country), </span>
</div></li><li><div class="code-word">     ); 
</div></li><li><div class="code-word">  }
</div></li><li><div class="code-word">}
</div></li></ol></code></pre>
                    </div>
                    <p data-nodeid="185706">
                      Framework 的下一层是 Engine 层，这一层是<strong
                        data-nodeid="185999"
                        >Flutter 内部核心</strong
                      >，它主要由 C++ 实现，包含<strong data-nodeid="186000"
                        >Skia 图形处理函数库、Dart runtime、Garbage
                        Collection（GC）以及 Text（文本渲染）</strong
                      >。在这一层中，通过内置的 Dart 运行时，Flutter 提供了在
                      Debug 模式下的 JIT（Just in time）支持，以及在 Release 和
                      Profile 模式下的 AOT（Ahead of time）编译时编译成原生 ARM
                      代码的能力。
                    </p>
                    <p data-nodeid="185707">
                      最底层为 Embedder 嵌入层，在这一层中，Flutter 的主要工作是
                      Surface
                      Setup、接入原生插件、设置线程等。也许你并不了解具体底层的知识，这里只需要清楚：Flutter
                      的 Embedder 层已经很低，<strong data-nodeid="186006"
                        >原生平台只需要提供画布，而 Flutter
                        处理了其余所有逻辑</strong
                      >。正是因为这样，Flutter
                      有了更好的跨端一致性和稳定性，以及更高性能表现。
                    </p>
                    <p data-nodeid="185708">
                      目前来看，Flutter
                      具备其他跨平台方案所不具备的技术优势，加上 Dart
                      语言加持，未来前景大好。但作为后入场者，也存在生态小、学习成本高等障碍。作为前端开发者，对于
                      Flutter 技术的持续观察和深入学习并不矛盾，现在正是学习
                      Flutter 技术的良好时机。
                    </p>
                    <h3 data-nodeid="185709">总结</h3>
                    <p data-nodeid="185710">
                      大前端概念并不是虚无的。大前端的落地、纵向上依靠 Node.js
                      技术的发展，横向上依靠对端平台的深钻。上一讲我们介绍了小程序跨端的相关知识，这一讲我们分析了原生平台的跨端方案发展和技术设计。跨端这一技术也许会在未来由一个统一方案进行实现，相关话题也许会告一段落，但是深入该话题后学习到的端知识，将会是我们的宝贵财富。
                    </p>
                    <p data-nodeid="185711">本讲内容如下：</p>
                    <p data-nodeid="185712">
                      <img
                        src="https://s0.lgstatic.com/i/image/M00/94/8A/Ciqc1GAYznaAGKheAAH7M50bq2I025.png"
                        alt="Drawing 7.png"
                        data-nodeid="186013"
                      />
                    </p>
                    <p data-nodeid="185713" class="">
                      从下一讲开始，我们将进入核心框架原理与代码设计模式的学习，下一讲我们将从设计一个请求库需要考虑的问题出发，带你学习
                      axios
                      的设计思想。今天的内容到这里就要结束了，如果有任何疑问欢迎在留言区和我互动，我们下一讲再见！
                    </p>
                  </div>
                </div>
              </div>
              <div
                data-v-1605a430=""
                class="el-dialog__wrapper"
                style="display: none"
              >
                <div
                  role="dialog"
                  aria-modal="true"
                  aria-label="dialog"
                  class="el-dialog el-dialog--center show-img-wrap"
                  style="margin-top: 15vh; width: 60%"
                >
                  <div class="el-dialog__header">
                    <span class="el-dialog__title"></span
                    ><button
                      type="button"
                      aria-label="Close"
                      class="el-dialog__headerbtn"
                    >
                      <i class="el-dialog__close el-icon el-icon-close"></i>
                    </button>
                  </div>
                  <!----><!---->
                </div>
              </div>
            </div>
            <div data-v-daa3f53a="" class="fix-box-wrap">
              <div data-v-daa3f53a="" class="mini-player-wrap">
                <div
                  data-v-2ee8fa4a=""
                  data-v-daa3f53a=""
                  class="player-container-wrap"
                >
                  <div data-v-2ee8fa4a="" class="player">
                    <div data-v-2ee8fa4a="" class="close-btn"></div>
                    <div data-v-2ee8fa4a="" class="content">
                      <div
                        data-v-2ee8fa4a=""
                        class="theme single-line narrow-theme"
                      ></div>
                      <div data-v-2ee8fa4a="" class="time-course">
                        <div data-v-2ee8fa4a="" class="time">
                          00:00<span data-v-2ee8fa4a="" class="line"></span>
                        </div>
                        <span data-v-2ee8fa4a="" class="course-name single-line"
                          >前端基础建设与架构 30 讲</span
                        >
                      </div>
                    </div>
                    <div data-v-2ee8fa4a="" class="player-container">
                      <div data-v-2ee8fa4a="" class="play-btn">
                        <div
                          data-v-2ee8fa4a=""
                          class="play-status playing"
                        ></div>
                      </div>
                      <div
                        data-v-2ee8fa4a=""
                        class="play-next next-unable"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
              <!---->
            </div>
            <div data-v-daa3f53a="" class="right-content-space"></div>
            <div data-v-daa3f53a="" class="right-content-message">
              <div
                data-v-4bc80e00=""
                data-v-daa3f53a=""
                class="message pc-message"
              >
                <div data-v-4bc80e00="" class="message-topic">
                  <div data-v-4bc80e00="" class="message-topic-title">
                    精选留言
                  </div>
                  <div
                    data-v-4bc80e00=""
                    class="message-topic-write pointer btn-pc-css"
                  >
                    <img
                      data-v-4bc80e00=""
                      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAABDlBMVEUAAAAAAAArKyscHBwrKyswMDAtLS0xMTEuLi4rKyszMzMzMzMyMjIvLy8zMzMxMTEvLy8tLS0zMzMyMjIxMTEwMDAyMjIwMDAzMzMxMTEwMDAxMTEyMjIzMzMyMjIzMzMxMTEyMjIyMjIyMjIyMjIyMjIyMjIzMzMyMjIzMzMyMjIyMjIzMzMyMjIzMzMyMjIyMjIzMzMyMjIyMjIzMzMyMjIyMjIyMjIzMzMyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIzMzMzMzMyMjIzMzMzMzMzMzMzMzMyMjIzMzMyMjIzMzMzMzMzMzMyMjIzMzMzMzMzMzMyMjIzMzMzMzMyMjIzMzMMFbxYAAAAWXRSTlMAAwYJDBARFRYYHiMkJigqKy0tMzk7PUBBQ0VJTFBSVVlbXGFla3B0dXh/hYeKjY+QkZSVlpiao6ausbK3u73DxcfIys3O0NPY3N3g4uXm6Ovu8fX3+Pr7/Z2GrlIAAAEvSURBVCjPdZJrT8JAEEVvC4ggqAiKiq0vlLa8tIoWBQFBRK0yIrTM//8jfighLWzPh8nNnsnMZrPAAlkxe+Q41DMVGUGiOrHbbzYazb7LpEf9TiVuKzEvx5Q2k7pUUo0HOX9vbsA1aZFNvl9ZI9+x6SWdq1ijyjoApGcWBFizNIAWxUUyTi0gwyUIKXEGZTchlgm3jG4HAAq2XQhWoNMF1QHAZraDFagTHCNMGg4mlbCxlT+MLIRgjWB9hTjp28IZ74vlIV8gQk9i2fqNABqfiJzKVwDk4Xhr3e3QmwQAKfrcXnUp+yfppSzRadCdT2hv2TfkS5/Kv3Av6fsWjgHk1d3NZFa9HfFYk/xzpkb0gT3mr9eR4JLp88f85qCoacXj2NrNp2wfhb0x3h83BKf/ogM3zcQrR7gAAAAASUVORK5CYII="
                      class="message-topic-write-icon"
                    />
                    写留言
                  </div>
                </div>
                <!---->
                <!---->
                <div data-v-4bc80e00="" class="message-list">
                  <div data-v-4bc80e00="" class="message-list-title">
                    <div data-v-4bc80e00="" class="message-list-title-left">
                      <!---->
                      <div
                        data-v-4bc80e00=""
                        class="message-list-title-left-name"
                      >
                        *浩
                      </div>
                    </div>
                    <div data-v-4bc80e00="" class="message-list-title-right">
                      <!---->
                      <img
                        data-v-4bc80e00=""
                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAAKlBMVEVHcExnZ2dzc3NmZmZqampmZmZmZmZnZ2dnZ2dnZ2dmZmZoaGhmZmZmZmZl+8SAAAAADXRSTlMA/AbsFtilbj5YwSqJPyESoQAAAZxJREFUOMt1lTtLA1EQha8xRhPTBEmhuKCCoNgoIlYLMcRKBG0sxIUgCDaBSDohEO0FEbQyIBZaBazERvAPWCwxPnP+i3tnrlGTmVPswn73NXNm7hrzq9m9kZ2ckTUUABifkOEBrK7liR7BMRFOA/uFc+BUgnV8mFisEW5IsIFi9FzBuwR91KJnAm8S9EIbxSBeBRZHk86MrBQJWjymJUC3nlugSyk+SQyhANfxos+s4krfM0DZvmbw2cuSCHNGi3PAfUygXYiU79ryyw1ibf0xZ9intBsz6SBadx24iiZXz8kPxCiTtYdLPzKTVFkkLQAZO/VikwYW/x/wHohcT/MiPQE8W9frxJrlbpiw4xvA0vbNmWyhj2Nrhmy+B7nEyTsN0rIaJAc0SDWqwX7rhAYfMa/Dui0bDZbwZAwUGNjWUWActnUUyN2hwDTaOkxRaSiwj6pRhjHKgTazSkWlwBK1jgIpBwrkHCgwyZ0oQ86BAjkHCjziG0KE8YBvCA/5KacOm6sgrHFAotouT6J23bkkLbsNDjM9yt7yP+IbQYga5De+eBMAAAAASUVORK5CYII="
                        alt="right-icon"
                        class="message-list-title-right-icon"
                      />
                      <div
                        data-v-4bc80e00=""
                        class="message-list-title-right-praise"
                      ></div>
                    </div>
                  </div>
                  <div data-v-4bc80e00="" class="message-list-container">
                    <div data-v-4bc80e00="" class="message-list-content">
                      跨平台的技术这一讲真是好。
                    </div>
                    <!---->
                  </div>
                  <!---->
                  <!---->
                  <!---->
                </div>
                <!---->
              </div>
              <div
                data-v-7580e7ec=""
                data-v-daa3f53a=""
                class="el-dialog__wrapper"
                style="display: none"
              >
                <div
                  role="dialog"
                  aria-modal="true"
                  aria-label="dialog"
                  class="el-dialog el-dialog--center"
                  style="margin-top: 25vh; width: 400px"
                >
                  <div class="el-dialog__header">
                    <span class="el-dialog__title"></span
                    ><button
                      type="button"
                      aria-label="Close"
                      class="el-dialog__headerbtn"
                    >
                      <i class="el-dialog__close el-icon el-icon-close"></i>
                    </button>
                  </div>
                  <!----><!---->
                </div>
              </div>
              <div
                data-v-e31d0af2=""
                data-v-daa3f53a=""
                class="el-dialog__wrapper"
                style="display: none"
              >
                <div
                  role="dialog"
                  aria-modal="true"
                  aria-label="dialog"
                  class="el-dialog el-dialog--center"
                  style="margin-top: 10vh; width: 500px"
                >
                  <div class="el-dialog__header">
                    <span class="el-dialog__title"></span
                    ><!---->
                  </div>
                  <!----><!---->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <video
      data-v-537ed502=""
      id="video"
      controls="controls"
      x-webkit-airplay="true"
      x5-video-player-fullscreen="true"
      preload="auto"
      playsinline="true"
      webkit-playsinline=""
      x5-video-player-type="h5"
      class="video vjs-default-skin"
    >
      <source data-v-537ed502="" type="application/x-mpegURL" src="" />
    </video>
    <!---->
    <div>
      <!---->
      <!---->
      <!---->
      <div
        data-v-51f7ab0d=""
        class="vux-alert purchase-alert-container"
        current-environment="PC"
      >
        <div class="vux-x-dialog">
          <div class="weui-mask" style="display: none"></div>
          <div class="weui-dialog" style="display: none">
            <div class="weui-dialog__hd">
              <strong class="weui-dialog__title">购买成功</strong>
            </div>
            <div class="weui-dialog__bd">
              <div data-v-51f7ab0d="" class="purchase-alert-content">
                <img
                  data-v-51f7ab0d=""
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAADpNJREFUeAHtXQmQFNUZ/nt2F1h2OeQSBEG5VhBUFJVTAySiskBIggseGDUVKzGmirCIoIWJsYDIEqosSMWkClIrgXAUBHdRCLB4cEjkMKAIiBSi3LfLLsfuTuf/Xm/v9Ox2z/T09DWz81dNdU+/N+/97//mf/2/9/73fokShTYtbERlZ7uSJOeQHMhRrtSR2W8iPrKcrdxLjYnkcr4vJUm6LK7ino6SLB0gKXhAXLNaHaIhz1zldN+T5FsON81tTuWVD1KQhpLEH1nuybwGbOQ3yCDuI5lKuNQSapz+IQ2ZeNHG8m0ryl8gFc/tTFLlUwxILgvvbptBiSY0Bo12MXDFJKe/Q7kTD0f7gVvp3oMEjSmreoyBeYq7qUFuNTx6PdJmBuwdykpb5rWGeQcStIYqX2ZhTWCAGkYXmkc5JOka11xIlD7LK+1yH6TiuT0YnGncnY1nzUnzSPQWqpWquDtcQgFpJj2av89CAZZ/4h5I6+bcTBXBAuZ0LGuOe/VaFo3BDyVJ5pTllBHIp+GTvjXIZetj54W14+0MOnFpIvfv0xmcLFu597IwSSrj9rxO7ZrNpb7PVzjJirMgFc3+AXcR87kxMJ+TkxQz/gUaOfkDpxroDEjQnpOXZvJ7Z5JTjPuuXInmUNtmU53QKvtBWlPQiTVnKX/u950gnWZIkrZzt55HI/K/sbMqO0fwRGtmjyY5uLteAgRU8MdE+yEHG8k+kNbMnszd2yr+3GAjf4lXFNoPOUAeNlH83R3M6eICNq3l39nEUxIVI/2ZcvPzuQuE2W6Z4gNJGAjfL2A1f9IyB8n+Q0laRG2bPhuPQWEdJGX8s5JlnJvscrahfcU8nvqJVaCsvZPQxZ1kDUoBZBa/XCEvizMt1ubO+mbP4XfQ82Y5TOUTEriDDm5rQkvW/ydWecSuSUVvvpQyEmIVs5qfjSshP/W7uWts7yTY/0H53+aKTuXSlQAsPYnG0IjJq3XTdR6aB0nMJGCgWs/HQTpCjPmRRBdICvQxOzNhrruDJSemelIAxQyI3g/EgJenziBXE2QOJDFZWg/n4kwI0HIWTCFBriYoeneH5QaSN5koK5XFkgSkIdGWOSJrEtQR60Epck4CkG+Ubi8ySFhRTeYFO+dEb75kyBdyjkDG3Z3ik/Alg5Q8S94RBOFpEpbiMwI9jHwmjDUJTiMpgNzBDnJWnHR069PXpPcKevKg9XMGST9dt6jUw7gkgEFuQOql5y6mr0lBeWoKoLhEHvuPoRCQuw7VBQmepcJxUSd36lGYBPLa5dDqvmMoQ6orxrCMZr9A7sKzN/wHOqXD9TeRPEvDG+TGt5ysG6ikXx79655RNKptV3qlWz+bqoXchet1WHnh7xzhPF95krs6//pmh7Hv7pc0HjTmd7mXft99IDVKS6+pvCJYRfdtXkSffX+65pnlG/ieZ6W31W4SCNWEUpXdDSmAdCTcpXFzKrzrURrQon2d1OsM0o0Nee+aHQQFAQ5Ef1OLq9XdyRPUhNQ1JIEn2vegzx54WhegY1dKafDWJbTuzJHQD+K9E9uAQoWEujthMFR8HUpK3WUG0mlerx/Ssx176wpj58WTNOrTlXT8WpluelwPpYwu6labkCZhh12KaiRwS2ZT2jLwcUOA1p4+TA+wBjkCELjQ4BECSaaRNRzW85thLTvSzsETqE+zG3UlUXTqEI3+dBWVByt10215qMFD6e5g1V2uOMeFh0CzpabEK+RXne6it24fRukBfVGsPHGQxu0qogo56HTjgpSd0RJWnsIJdnnXc4AgiLduH0p/6f0jQ4CWHt9PebvedQMg/AECYvd9DTDYhl+PqVEgjVbcM5pevPUeQym8d+owPbm7mCrluDyGDcvXTajGRRkniXMSdLMl/cMWGY3o3XvH0MAWHQzb+smF4zR252p3AQI3wEVccNLI5TOwIZWuD0/rCbVrmEXr+z1GtzdpZdjiL0vP0aCti+l8hSeHp/B7qXVWujgKph4CBBN7AwPUhefhjAgD1eHbl3sFENgKAJ/06jN6jPhMyueYIN3AE6QdMpsYtu9KVQX9eMcq+vZqqWEeVxL4LKV0cZgSH+BTX6g7A7Sp/zhq1yg7YpOf+99a2nHpVMQ8riTyYVcBoUmu1OZ9Jd2ympsCaOZXn9ASNrd9QaxJAV7g6+gLZhxmoivPYm/qN45uiqJBa059Ta8e+NhhbmIonvGBRWfcMcdQlp+zdmBgNvbPo/YR3kHg//jVy/Tzz973W+ffJOlBapWRKczsjmzNRaIgD1IxWD1bcSVSNi/SkhukJmkZ9P79P6PbsltGFe6sQ9tp0zlXjgqKykutDAySnJzdXQN2Dll9L29Tbd62VpvrfsWMwmsHN9dN8MMTxgfdXabbvNzEI30MJp2kBXc+QkNaRbeJLlVco/E8q+3qnFxsDc9kkMShsrH9LI7cbRmgEh6nYL3mkda3xlGS8U//mDOInuhg7syp5/esoyNXvjcuzPMUuZzHSeLEX1dYubFBYx6n5FFOdgtq0SCT1tz3U/a8GWDrpOFzN/emV7v1N9WeBUf30tITB0zl9TBTKbo7V+Y92jBAJQyQ9iUuSRK9xu5RAKslz0bHS0N5RfWvvR8yVczBy+fpt19sNJXX00ysRK6A1Jq1ZiNPZvY0mG1+uE1n0f31NViuNiOkzo2b0TJ2VjRaUdWWIbO5/Ys9a9lzytGzBLVVxnPvvCZhnLKRJzN7NW0dkdFOLOTNAx6nX3a8I2I+vcRsNrXh7tuS/wxm6O9H99DH54+ZyeqHPAySxCfPO0TowrAc0DsKQGr1Ddkr9O07htM/2DKDO5UZgpMGnBaj/QnUsk7yrMKULz9Uv/r/yvjwOIlDAzhAWPEEQHc2axNz6U/f3Iu2DXyC4DUajaZ3G0Bj2nWPlq0m/UV+D12svFbz3fc3jA9rEsducIDQBWXyxyoB3B2Dn6KRbboYFvFQq1toOluHZgmuWCvY2yehiPFxTJOO8mLZwC3/pO08mrdKzVkbV7P/wYycwQRneS2150nTRX1G8L6r8OfaPNr70srr9Ou967WPEuNeaBKin5AzE7/n2C9g6LalBE8bqwQzfSpvLVnXbyzBSgSl87Nld4+i1jE4yb+y/2P6jt9HCUZBYnwCIjwNjk12iODlOXrHSlr47d64ahjWqhPtGvw09Wvejmbd9qCu87xRBdDm+Ud2GSX79zlw4fBBigmF8DREvZziFvNiz/Jy9ImrZTQtjg1X8En4aMB43qjNe61MEpYgXvh8gzNdhUkeLGdTcKmekUH8IBfoFV7xfBECY8FZpVgAQh3Q4J1+8FWw0uBqXDDjQCLAk0Pvpdq8zTuyW7jqXqty0Nm9ulLMcE/jd1GCUrAal2pNQgQuSdrtVmNgBj/83xUEITpJrx/cSqevlztZhXNlI+BWdWQ0RZNQlURFztVYt+QPeBVU7O9xyOL6uuwCzUtEY0EVFSKiVVMIJIRIc5n2lJ6hATyWOsAz0nbTy/s/ouvOb0+xm+1QeRo8QiCJGHYcIs1l+oYX3DDoxRK2XbSVJ08TbmYhrPGMgyamYAgkZEIMOw8Ig95hPOiFz5sd9FIiTaDqNbgWDuEgIcigEsNO76eOPsOgF77X8Q56MT+35ULCLEPUlak4x4Fx0FA4SIo1UahJd/VWHfTOYDdfK4TxF6Z/EpwKVatObUc4SOIpR4EkDjLoIWHQ+5u9sQ96Fx/bR3tLz3rIebxVQ+6QfzjVBQkvLESB9JjmfxPboLeKLbk/8LgooQly1xgMalvqgoQUhOmMM5yMWkE8V1ho2MRlZtBb+N0XdKjcl1GxzYlAOe9O93RjfZCUOKrLzZXubK4Pz38XddBbGQzSG19tc5YR50tfrncgIarVBwkpiKOKs0F9QOqgd/9lHDVRlxYd+4IOl1+qm5AoT5QzWPON2DUGCYFuEUfVJ4RB76Ati+sMemHRzThkzRr0SdPYiZjlHCGwsDFIaAEC3Tq4IBirkNRBb7Fm0LucPVC/Kkvod9E+IecIwogMEiIR85qZH4wItQ0Y9I7hQS9chEF/4i0rCUswFiDfKBGfzXlxFL/Jx0/7L7DvY3wG6jL/+3Ib/4cQQDj3JcN3kfrDyJqk5kIkYiLfdfwJDRDkqchVlbLh1RxIUMdAYBwPci8YlpRKMC8ByBHyjNLNqQWaAwm5ESpakp7x0/tJbURCXfEeghxjCL1tHiQBFIc4k2hKQgnFb8xCfjGEigP75gyH2g0tmj2HjftUhObacon6nSM4j5w8KWq2WhmsgYQj+9cUFPIg7Mla5aW+GkkAkZtH5E+w8rqIrbtTGUC/ilDRRDXOEmpS6qorgWIhL8jNAlkDCRXBMkGoaPxDUmQsAcgnjpDaKNhad6dlCV1fcUFB6h2lFYp6z++g3HxMVFvSILUU65qklgAGlJfhlHiZUYtM+KsCyhQhlzgBgizi1yStRBHRWZYX8hSS8XGM2vzJeC8C/WIcZD4iczQx2AsSahORnTnQLeKo1jeSpO3cm+TFMlA1IyL7QUKtCMkpAgj7b1LWjFAs5cFkKebiTE71xFKHMyCpHCCQMOKoJnMYVKy3Yblh5OQP1GbbfXUWJHALrUIcVUmazmAlTzhULHljRRULow5ojxZo50FSa1Pi1rKpTmO5ce7Vq9Zv11Wx1pYLH5AIS952VYdy3BdW8dweHLduGncR43lslWZnY5wtix0X4RcHdzfFm8rZ6jSluw+SWrmIAimCDE5gzfJviDrFN75QeJbqOC6qzXHy6h1IaqtEsEfEsONQdbI8UH3s+VWStnBHU0jYxFC9484rnrwHSdtyaBcicCHAkyz34aT4Z0S05Ue+D7Jxs5u7tCLCBi6PtEaPRX+BpOUQGoa4TghPI6LSyDgK0k7QAArM5xIutURsIvZYY7TN1977FyQtl7hHdBoOrqHE1gjkVMfYwCGrONdc+SiH/uLYlCsMbClfQx+cRobDrnCWEq44CYYPsuA8vqf/AzeOq1TDOdDkAAAAAElFTkSuQmCC"
                  alt="购买成功"
                  class="purchase-success-img"
                />
              </div>
            </div>
            <div class="weui-dialog__ft">
              <a
                href="javascript:;"
                class="weui-dialog__btn weui-dialog__btn_primary"
                >我知道了</a
              >
            </div>
          </div>
        </div>
      </div>
      <!---->
      <!---->
      <!---->
      <!---->
      <div data-v-0b91fc6d="" class="pc-all-dirlog-wrap">
        <div
          data-v-467635e0=""
          data-v-0b91fc6d=""
          class="el-dialog__wrapper sale-pc-all-dirlog"
          style="display: none"
        >
          <div
            role="dialog"
            aria-modal="true"
            aria-label="dialog"
            class="el-dialog el-dialog--center"
            style="margin-top: 25vh; width: 500px"
          >
            <div class="el-dialog__header">
              <span class="el-dialog__title"></span
              ><button
                type="button"
                aria-label="Close"
                class="el-dialog__headerbtn"
              >
                <i class="el-dialog__close el-icon el-icon-close"></i>
              </button>
            </div>
            <!----><!---->
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 如需在IE8、9浏览器中初始化播放器，浏览器需支持Flash并在页面中引入 -->
  <!--[if lt IE 9]>
    <script src="//imgcache.qq.com/open/qcloud/video/tcplayer/ie8/videojs-ie8.js"></script>
  <![endif]-->

  <script
    id="_lgpassport_"
    data-css-site="0"
    data-css-popup="0"
    type="text/javascript"
    src="https://passport.lagou.com/static/js/passport.js"
  ></script>

  <script type="text/javascript">
    //后端变量赋值
    window.courseInfo = {
      id: 584,
      courseCId: "",
      courseName: "前端基础建设与架构 30 讲",
      teachers: [
        {
          id: 588,
          teacherName: "LucasHC（侯策）",
          position: "前百度资深前端开发工程师",
          teacherHeadPicUrl:
            "https://s0.lgstatic.com/i/image/M00/88/7B/CgqCHl_W5C-AeIGNAAA8VXa7eBk634.png",
          description:
            '<p line="fmly"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">某互联网独角兽巨头资深前端开发工程师，负责多条业务线前端团队的架构设计、核心开发、工程方案调研和选型，以及团队管理、人才梯队建设等工作。</span></p><p line="1lY4"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">曾任职于百度知识搜索部、海外某知名互联网公司，负责多个产品线的大型技术迭代以及管理工作。书籍《React状态管理与同构实战》《前端开发核心知识进阶：从夯实基础到突破瓶颈》作者。</span></p><p><br/></p>',
        },
      ],
      totalCourseTime: 30,
      totalDuration: 550,
      sales: 11628,
      price: "0",
      priceTag: "立即购买",
      discounts: "98",
      discountsTag: "立即购买",
      courseImgUrl:
        "https://s0.lgstatic.com/i/image/M00/88/7B/CgqCHl_W5C-AeIGNAAA8VXa7eBk634.png",
      sellGoodsId: 629,
      sellGoodsPriceId: 30923,
      lgCoinPrice: 98,
      isBuy: false,
      isFavorite: false,
      isNewDes: "",
      seoDescription:
        "快速发展的红利，批量劣汰的挑战；与生俱来的混乱，与混乱抗衡的规范，这些都是前端岗位无法逃避的现状。\n \n有人说，做好业务支撑是活在当下，而做好技术基建，是活好未来。当业务量到达一定量级，妄想依靠“加班”“压榨”这种出蛮力的方式来做好业务会十分困难且危险。\n \n成为“规范制定者”、成为“思考者”，像架构师一样思考问题，你才能成为“优胜者”。",
      seoKeywords:
        "React,React-Hooks,栈调,Fiber,setState,Redux,Facebook,源码分析,技术栈,JS,ES2015,\nReact-Router,DOM,React Native,state,props,diff,umi,Suspense,React.js，batchUpdate,\nsetState, Web ,前端,UI,HTML,jsx,ShoppingList,Props,前端开发,Vue,源码分析,架构师,\nJavaScript,Composition API,Java, Vue.js,React , MVVM 框架,JavaScript, cube-ui 开发,uni-app,Mpx,chameleon,WePY,组件渲染,DOM diff, 组件渲染,vnode ,侦听器,共享数据,AST,Props,Virtual DOM,Snabbdon,patch,Diff 算法,Dep,底层原理,VueapI,Vue-cli,原生内置功能,Tree-shaking,代码逻辑,模板无关性,前端工程化,性能优化,前端开发,Vue,源码分析,架构师,JavaScript,Composition API,Java, Vue.js,React , MVVM 框架,JavaScript, cube-ui 开发,uni-app,Mpx,chameleon,WePY,组件渲染,DOM diff, 组件渲染,vnode ,侦听器,共享数据,AST,Props,Virtual DOM,Snabbdon,patch,Diff 算法,Dep,底层原理,VueapI,Vue-cli,原生内置功能,Tree-shaking,代码逻辑,模板无关性",
      seoTitle: "前端基础建设与架构 - 前百度资深前端开发工程师-拉勾教育",
      shareTitle: "送你一份前端基础建设秘籍",
      shareDescription: "速领！",
      brief: "从工程化到架构设计，一次搞定前端基础设施建设",
      courseListImg:
        "https://s0.lgstatic.com/i/image/M00/88/7E/CgqCHl_W512AJc_SAAFGLYkGkls947.png",
      courseType: 1,
      previewFirstField: "共30讲",
      previewSecondField: "每周一、三更新",
      joinMember: false,
      freeForVip: true,
      decorateId: 488,
      successShowType: "COURSE_COMMUNITY",
      appDecorateId: 0,
      recruitAppDecorateId: 0,
      joinSeckill: false,
      seckillRemainSeconds: "0",
      hasActivityTask: false,
      enterpriseDecorateId: 488,
      hasCoupon: false,
      hasActivityGroup: false,
      synEnterprise: true,
      classCourseType: 0,
    }
    window.isLogin = true
    window.sellGoodsPriceId = -1
    window.orderToken = "1b2941f96baf4b0a8462743edd01e531"
    window.userInfo = {
      id: 20015885,
      nickName: "张熙远",
      isActive: 0,
      portrait:
        "https://s0.lgstatic.com/common/image/pc/default_boy_headpic1.png",
    }
    window.enterNewPage = false
    window.activityButtonInfo = null
  </script>
  <script
    type="text/javascript"
    src="https://s21.lgstatic.com/growth/activity/20201206/1607238135888.js"
    crossorigin=""
  ></script>

  <!-- <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script> -->

  <!---->
  <!---->

  <script
    type="text/javascript"
    src="https://s1.lgstatic.com/kw-web-fed/js/dll/vendor.424fdf064e46228ef60d.dll.js"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://s0.lgstatic.com/kw-web-fed/js/runtime~course/main.807e6d9.js"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://s0.lgstatic.com/kw-web-fed/js/lazy-load/common.29b3b88.js"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://s0.lgstatic.com/kw-web-fed/js/lazy-load/vendors~404/main~500/main~activity-collage/main~activity/main~activity818/main~algorithm-shock/main~~4141e3fd.69f9030.js"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://s0.lgstatic.com/kw-web-fed/js/lazy-load/course/main.9a9f2f8.js"
    crossorigin="anonymous"
  ></script>
  <div class="lg-pay lg-recharge-pay-container">
    <div class="lg-pay-container recharge-pay-container">
      <div class="lg-pay-close"></div>
      <div class="modal-payment-title">
        <i class="icon-hd"></i>
        <span class="title-text">已开启安全支付</span>
      </div>
      <div class="amount-coupon"></div>
      <div class="recharge-pay-title">请选择支付方式</div>
      <div class="pay-methods">
        <div class="pay-method-list">
          <div
            class="
              lg-pay-select lg-pay-select-ali
              pay-method-item pay-ali
              active
            "
          >
            <i class="pay-icon-ali"></i>
            <span class="pay-method-name">支付宝支付</span>
          </div>
          <div class="lg-pay-select lg-pay-select-wx pay-method-item pay-wx">
            <i class="pay-icon-wx"></i>
            <span class="pay-method-name">微信支付</span>
          </div>
        </div>
      </div>
      <div class="lg-pay-qrcode lg-pay-qrcode-wx">
        <canvas id="wxQrcode"></canvas>
      </div>
      <div class="lg-pay-qrcode lg-pay-qrcode-ali" style="display: block">
        <canvas id="aliQrcode"></canvas>
      </div>

      <div class="pay-qrcode-status">
        <span>
          <span class="left-text">未支付成功，请重新扫码支付</span>
          <div class="pay-tips">
            <span>使用支付宝扫码支付</span>
            <a class="link"> 我已支付 </a>
          </div>
        </span>
      </div>
      <div class="pay-notes">
        <span
          >付费即表示同意<a
            href="https://activity.lagou.com/app/business/service-agreement.html"
            }=""
            target="_blank"
            >《拉勾网在线增值服务协议》</a
          ></span
        >
      </div>
    </div>
  </div>
  <div class="lg-pay-recharge" style="display: none">
    <div class="lg-pay-container lg-pay-recharge-confirm">
      <div class="lg-pay-close"></div>
      <div class="recharge-title">勾豆充值</div>
      <div>
        <div class="recharge-label">填写充值勾豆数量</div>
        <div class="recharge-amount">
          <input
            type="text"
            class="amount input"
            min="0"
            max="9999"
            value="100"
          />
        </div>
      </div>
      <div class="recharge-tips">
        需支付：<span class="count-show">100元</span
        ><span class="recharge-description">（1元=1勾豆）</span>
      </div>
      <div class="recharge-btn">立即充值</div>
    </div>
  </div>
  <div class="lg-pay-recharge" style="display: none">
    <div class="lg-pay-container lg-pay-recharge-confirm">
      <div class="lg-pay-close"></div>
      <div class="recharge-title">勾豆充值</div>
      <div>
        <div class="recharge-label">填写充值勾豆数量</div>
        <div class="recharge-amount">
          <input
            type="text"
            class="amount input"
            min="0"
            max="9999"
            value="100"
          />
        </div>
      </div>
      <div class="recharge-tips">
        需支付：<span class="count-show">100元</span
        ><span class="recharge-description">（1元=1勾豆）</span>
      </div>
      <div class="recharge-btn">立即充值</div>
    </div>
  </div>
  <script
    type="text/javascript"
    crossorigin="anonymous"
    src="https://kaiwu.lagou.com/upload/oss.js?v=1010"
  ></script>

  <div
    class="xl-chrome-ext-bar"
    id="xl_chrome_ext_{4DB361DE-01F7-4376-B494-639E489D19ED}"
    style="display: none"
  >
    <div class="xl-chrome-ext-bar__logo"></div>

    <a
      id="xl_chrome_ext_download"
      href="javascript:;"
      class="xl-chrome-ext-bar__option"
      >下载视频</a
    >
    <a
      id="xl_chrome_ext_close"
      href="javascript:;"
      class="xl-chrome-ext-bar__close"
    ></a>
  </div>
  <script></script>
  <div id="cboxOverlay" style="display: none"></div>
  <div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none">
    <div id="cboxWrapper">
      <div>
        <div id="cboxTopLeft" style="float: left"></div>
        <div id="cboxTopCenter" style="float: left"></div>
        <div id="cboxTopRight" style="float: left"></div>
      </div>
      <div style="clear: left">
        <div id="cboxMiddleLeft" style="float: left"></div>
        <div id="cboxContent" style="float: left">
          <div id="cboxTitle" style="float: left"></div>
          <div id="cboxCurrent" style="float: left"></div>
          <button type="button" id="cboxPrevious"></button
          ><button type="button" id="cboxNext"></button
          ><button id="cboxSlideshow"></button>
          <div id="cboxLoadingOverlay" style="float: left"></div>
          <div id="cboxLoadingGraphic" style="float: left"></div>
        </div>
        <div id="cboxMiddleRight" style="float: left"></div>
      </div>
      <div style="clear: left">
        <div id="cboxBottomLeft" style="float: left"></div>
        <div id="cboxBottomCenter" style="float: left"></div>
        <div id="cboxBottomRight" style="float: left"></div>
      </div>
    </div>
    <div
      style="
        position: absolute;
        width: 9999px;
        visibility: hidden;
        display: none;
      "
    ></div>
  </div>
</body>
